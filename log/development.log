  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 14:04:22) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.4ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:04:22', `perishable_token` = 'siwvBvZaQP1lpqW7TNjC', `last_request_at` = '2011-03-31 12:04:22' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (2.3ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.8ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.5ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mBooking Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.9ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (1.3ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant_payment (207.5ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 628ms (View: 252, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::BookingsController#index (for 127.0.0.1 at 2011-03-31 14:04:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/bookings", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:04:33', `perishable_token` = 'qrgV-9buH4qYSeaWgyZ-', `last_request_at` = '2011-03-31 12:04:33' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mBooking Load (1.1ms)[0m   [0;1mSELECT * FROM `bookings` ORDER BY bookings.created_at DESC LIMIT 0, 10[0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `bookings` [0m
Rendering template within layouts/application
Rendering admin/bookings/index
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 671 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mParticipant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mSession Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.1ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 670 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 669 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.7ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.8ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 668 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (1.0ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 667 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 685) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mSession Load (0.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 665 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 669) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 664 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 668) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mPayment Load (0.6ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 662 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 666) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 661 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (1.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 272) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 665) [0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 197) [0m
  [4;36;1mPayment Load (0.6ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 660 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 272) [0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 664) [0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 196) [0m
Completed in 339ms (View: 228, DB: 31) | 200 OK [http://localhost/admin/bokningar]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:04:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"c7f230e7c58852b56a3a61dc1af92f1d47fdebd0", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:04:37', `perishable_token` = '2IZqjkfpa2JRPagKPhT9', `last_request_at` = '2011-03-31 12:04:37' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'c7f230e7c58852b56a3a61dc1af92f1d47fdebd0') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (207.9ms)
Completed in 308ms (View: 202, DB: 31) | 200 OK [http://localhost/admin/kvitton/c7f230e7c58852b56a3a61dc1af92f1d47fdebd0/edit]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:04:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:04:48', `perishable_token` = 'k9zJJkxzeEMpZOkBsIGb', `last_request_at` = '2011-03-31 12:04:48' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mBooking Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 670) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 669) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 667) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSession Load (0.6ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 665) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 664) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCoupon Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 662) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 272) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 661) [0m
  [4;35;1mSession Load (0.1ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 197) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 465ms (View: 249, DB: 27) | 200 OK [http://localhost/admin/kvitton]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:26:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:26:49', `perishable_token` = 'n8QBIS2VpmPSQI1qonHV', `last_request_at` = '2011-03-31 12:26:49' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.5ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (1.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.5ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (1.0ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (1.0ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 469ms (View: 239, DB: 28) | 200 OK [http://localhost/admin/kvitton]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:26:54) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:26:54', `perishable_token` = '6Os3Xcaoal1cIUlOsAEe', `last_request_at` = '2011-03-31 12:26:54' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (100.6ms)
Completed in 312ms (View: 93, DB: 31) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:27:18) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:27:18', `perishable_token` = '409yUphPFG6pk9HaR4XL', `last_request_at` = '2011-03-31 12:27:18' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (1.4ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (207.9ms)
Completed in 302ms (View: 197, DB: 34) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:27:33) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:27:33', `perishable_token` = 'm__ZkpCR5NpkbP6TWJr2', `last_request_at` = '2011-03-31 12:27:33' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (1.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (205.5ms)
Completed in 414ms (View: 195, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:27:55) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:27:55', `perishable_token` = 'mBbn6m65rI7_W0uqYqaA', `last_request_at` = '2011-03-31 12:27:55' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m

ActionView::TemplateError (undefined method `recipt' for #<Payment:0x1055dd058>) on line #27 of app/views/admin/payments/_form.html.erb:
24:   <%= text_field_tag 'reciept_attributes[gross]', form.object.type?(:bankgiro) ? form.object.reciept.gross : nil %>
25: </p>
26: <p>
27:   <%= form.object.recipt.class.name %>
28:   <%= radio_button_tag 'reciept_attributes[type]', 'cash', form.object.type?(:cash) %> Kontant<br>
29:   <%= label_tag 'Kontant inbetald summa' %><br />
30:   <%= text_field_tag 'reciept_attributes[gross]', form.object.type?(:cash) ? form.object.reciept.gross : nil %>

    app/views/admin/payments/_form.html.erb:27
    app/views/admin/payments/edit.html.erb:5
    app/views/admin/payments/edit.html.erb:3
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (174.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:28:02) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:28:02', `perishable_token` = '-wlPEwioIx1SdxI3oZsJ', `last_request_at` = '2011-03-31 12:28:02' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (2.6ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (101.5ms)
Completed in 309ms (View: 204, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:28:39) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:28:39', `perishable_token` = 'nrCknjQk3fqhFePmB93f', `last_request_at` = '2011-03-31 12:28:39' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (2.0ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #18 of app/views/admin/payments/_form.html.erb:
15:   <%= form.text_area :meta, :rows => 5 %>
16: </p>
17: <p>
18:   <%= radio_button_tag 'reciept_attributes[type]', 'bg', form.object.reciept.type?(:bankgiro) %> Bankgiro<br>
19:   <%= label_tag 'Bankgiro avinummer' %><br />
20:   <%= text_field_tag 'reciept_attributes[avinr]', form.object.reciept.type?(:bankgiro) ? form.object.reciept.avinr : nil %>
21: </p>

    app/views/admin/payments/_form.html.erb:18
    app/views/admin/payments/edit.html.erb:5
    app/views/admin/payments/edit.html.erb:3
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (61.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:29:52) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.1ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:29:52', `perishable_token` = 'FFRb8bfeRuQsjYi3-sLl', `last_request_at` = '2011-03-31 12:29:52' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mGiftCertificate Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #33 of app/views/admin/payments/_form.html.erb:
30:   <%= text_field_tag 'reciept_attributes[gross]', form.object.type?(:cash) ? form.object.reciept.gross : nil %>
31: </p>
32: <p>
33:   <%= radio_button_tag 'reciept_attributes[type]', 'coupon', form.object.reciept.type?(:coupon) %> Kuppong<br>
34:   <%= select_tag 'reciept_attributes[coupon_id]', options_from_collection_for_select(Coupon.active, 'id', 'to_s') %>
35: </p>
36: <p>

    app/views/admin/payments/_form.html.erb:33
    app/views/admin/payments/edit.html.erb:5
    app/views/admin/payments/edit.html.erb:3
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (167.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:30:51) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:30:52', `perishable_token` = 'BmF0B4azOVsTkCIm65LA', `last_request_at` = '2011-03-31 12:30:52' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mGiftCertificate Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m

ActionView::TemplateError (wrong number of arguments (1 for 0)) on line #33 of app/views/admin/payments/_form.html.erb:
30:   <%= text_field_tag 'reciept_attributes[gross]', form.object.type?(:cash) ? form.object.reciept.gross : nil %>
31: </p>
32: <p>
33:   <%= radio_button_tag 'reciept_attributes[type]', 'coupon', form.object.reciept.type?(:gift_certificate) %> Kuppong<br>
34:   <%= select_tag 'reciept_attributes[coupon_id]', options_from_collection_for_select(Coupon.active, 'id', 'to_s') %>
35: </p>
36: <p>

    app/views/admin/payments/_form.html.erb:33
    app/views/admin/payments/edit.html.erb:5
    app/views/admin/payments/edit.html.erb:3
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (169.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:31:06) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:31:07', `perishable_token` = '5c28zr0nN3GCcKOJUanE', `last_request_at` = '2011-03-31 12:31:07' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (4.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (136.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.9ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.9ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (258.7ms)
Completed in 585ms (View: 223, DB: 171) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:32:09) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:32:09', `perishable_token` = 'bLWeAAxrIuFOoHTywXM4', `last_request_at` = '2011-03-31 12:32:09' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (2.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (1.2ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (120.7ms)
Completed in 334ms (View: 106, DB: 38) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:32:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:32:32', `perishable_token` = 'S3fhcvR1MoHwoQeJa0_b', `last_request_at` = '2011-03-31 12:32:32' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (1.9ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.7ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (109.5ms)
Completed in 310ms (View: 205, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:32:45) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:32:45', `perishable_token` = 'wH09ZByukhIsSlVgxv84', `last_request_at` = '2011-03-31 12:32:45' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.6ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (222.8ms)
Completed in 317ms (View: 213, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:33:10) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:33:10', `perishable_token` = 'CsOnyeSQ8bSuZ6BV3wnp', `last_request_at` = '2011-03-31 12:33:10' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (219.2ms)
Completed in 319ms (View: 209, DB: 31) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:33:23) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:33:23', `perishable_token` = 'xH9d1tKl083DmKnH0Ari', `last_request_at` = '2011-03-31 12:33:23' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (1.0ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (212.9ms)
Completed in 306ms (View: 202, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:33:37) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:33:37', `perishable_token` = 'CEFNVe-2cZisnqtdDxE5', `last_request_at` = '2011-03-31 12:33:37' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.8ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.4ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (212.2ms)
Completed in 305ms (View: 202, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:33:49) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:33:49', `perishable_token` = 'mOFWv4ThgVm25-G9xuV4', `last_request_at` = '2011-03-31 12:33:49' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (1.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (216.3ms)
Completed in 312ms (View: 206, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:33:56) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:33:56', `perishable_token` = 'mDKlHClyyBv959ygpUFF', `last_request_at` = '2011-03-31 12:33:56' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (2.0ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (213.6ms)
Completed in 310ms (View: 204, DB: 33) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:34:13) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:34:13', `perishable_token` = 'S-OGfjwphMaFK5erkPwp', `last_request_at` = '2011-03-31 12:34:13' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.8ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.7ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (3.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (211.1ms)
Completed in 308ms (View: 199, DB: 34) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:34:20) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "note"=>"", "email"=>""}, "reciept_attributes"=>{"coupon_id"=>"301", "avinr"=>"", "type"=>"cash", "gross"=>"77", "note"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:34:20', `perishable_token` = 'g5cQPEEMCE9uXViKsWV-', `last_request_at` = '2011-03-31 12:34:20' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (1.4ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mPayment Update (0.4ms)[0m   [0mUPDATE `payments` SET `updated_at` = '2011-03-31 12:34:20', `note` = '', `meta` = '' WHERE `id` = 1196[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 108ms (DB: 11) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:34:20) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:34:20', `perishable_token` = 'b6KXZdfMv5HWhlUbqY2o', `last_request_at` = '2011-03-31 12:34:20' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCoupon Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (1.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.1ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 316ms (View: 220, DB: 21) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:34:31) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:34:31', `perishable_token` = 'XWVOdD9pRc-M0fh6LcJm', `last_request_at` = '2011-03-31 12:34:31' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.7ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (210.1ms)
Completed in 431ms (View: 198, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:34:39) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "note"=>"", "email"=>""}, "reciept_attributes"=>{"coupon_id"=>"301", "avinr"=>"", "type"=>"cash", "gross"=>"77", "note"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:34:39', `perishable_token` = '4sHWVrw9d1cEcCKvzIrb', `last_request_at` = '2011-03-31 12:34:39' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mParticipant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 221ms (DB: 10) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:34:40) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:34:40', `perishable_token` = 'CX4LPJxtlieAp0dIEaS1', `last_request_at` = '2011-03-31 12:34:40' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.5ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCoupon Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.4ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (1.0ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (1.2ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (1.0ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 343ms (View: 120, DB: 25) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.3ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:36:43) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:36:43', `perishable_token` = 'uxEN_eMKDN-WE-w3o99j', `last_request_at` = '2011-03-31 12:36:43' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCoupon Load (0.9ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (218.9ms)
Completed in 309ms (View: 206, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:36:53) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "note"=>"", "email"=>""}, "reciept_attributes"=>{"coupon_id"=>"301", "avinr"=>"", "type"=>"cash", "gross"=>"77", "note"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:36:53', `perishable_token` = '1jm6F4KHmKkiJsYl7ral', `last_request_at` = '2011-03-31 12:36:53' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (1.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (1.7ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 109ms (DB: 11) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:36:53) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:36:53', `perishable_token` = '9srJggRuuMYKfMENO-ir', `last_request_at` = '2011-03-31 12:36:53' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCoupon Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.4ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.1ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 338ms (View: 228, DB: 23) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:37:18) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (4.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:37:18', `perishable_token` = 'w8Il72A3h5FjcutnPpiA', `last_request_at` = '2011-03-31 12:37:18' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.5ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCoupon Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.8ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 474ms (View: 218, DB: 22) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
** [Hoptoad] Notifier 2.0.18 ready to catch errors
Translating routes (default locale: sv-SE)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:38:00) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:38:00', `perishable_token` = 'CEVH-RBslBHkYwS_7fq-', `last_request_at` = '2011-03-31 12:38:00' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.7ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.6ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 570ms (View: 208, DB: 22) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:38:07) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:38:08', `perishable_token` = '71tx2MAVdzyjb22yua87', `last_request_at` = '2011-03-31 12:38:08' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.7ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (214.9ms)
Completed in 420ms (View: 208, DB: 33) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:38:18) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "note"=>"", "email"=>""}, "reciept_attributes"=>{"coupon_id"=>"301", "avinr"=>"", "type"=>"cash", "gross"=>"77", "note"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:38:18', `perishable_token` = 'xOxQB6tSOoepL0A2rDQ3', `last_request_at` = '2011-03-31 12:38:18' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (1.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 212ms (DB: 10) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:38:19) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:38:19', `perishable_token` = '1pw5kdFsM-VYNW1FEvEa', `last_request_at` = '2011-03-31 12:38:19' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.9ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.5ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.1ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (4.2ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 437ms (View: 232, DB: 25) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:39:14) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:39:14', `perishable_token` = 'EWl5xcuo8g4gA25FcQ9h', `last_request_at` = '2011-03-31 12:39:14' WHERE `id` = 1[0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (105.7ms)
Completed in 404ms (View: 190, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:39:23) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon_id"=>"301", "avinr"=>"", "gross"=>"77", "type"=>"cash", "note"=>""}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:39:23', `perishable_token` = 's1hbaiHylZ5A9VEzhv_O', `last_request_at` = '2011-03-31 12:39:23' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: coupon_id):
  app/models/payment.rb:80:in `new'
  app/models/payment.rb:80:in `reciept_attributes='
  app/controllers/admin/payments_controller.rb:54:in `update'
  app/controllers/admin/payments_controller.rb:52:in `update'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (164.9ms)
Rendered rescues/_request_and_response (1.7ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:41:26) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon_id"=>"301", "avinr"=>"", "gross"=>"77", "type"=>"cash", "note"=>""}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:26', `perishable_token` = 'kZRixQKPoF_qWIBzPaXs', `last_request_at` = '2011-03-31 12:41:26' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mCash Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mCash Create (0.3ms)[0m   [0;1mINSERT INTO `cashes` (`created_at`, `updated_at`, `gross`) VALUES('2011-03-31 12:41:26', '2011-03-31 12:41:26', 77)[0m
  [4;35;1mBooking Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (2.7ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mPayment Update (0.4ms)[0m   [0mUPDATE `payments` SET `updated_at` = '2011-03-31 12:41:26', `reciept_id` = 74, `value` = 77, `reciept_type` = 'Cash' WHERE `id` = 1196[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 272ms (DB: 17) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:41:26) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (10.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:26', `perishable_token` = 'zCWTVoKBfadPM_Y5GN_M', `last_request_at` = '2011-03-31 12:41:26' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCash Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 74) [0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.9ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCoupon Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.7ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.5ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 447ms (View: 201, DB: 30) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:41:29) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:29', `perishable_token` = 'VxbNzbWd9M-az7eov9gC', `last_request_at` = '2011-03-31 12:41:29' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCash Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 74) [0m
  [4;36;1mCoupon Load (0.9ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.7ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (203.6ms)
Completed in 409ms (View: 189, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:41:37) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon_id"=>"44", "avinr"=>"sssdd", "type"=>"bg", "gross"=>"77", "note"=>""}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:37', `perishable_token` = 'jGy-nmMhxIQ3dhjoPozP', `last_request_at` = '2011-03-31 12:41:37' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (1.2ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mBankgiro Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bankgiros`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBankgiro Create (0.3ms)[0m   [0;1mINSERT INTO `bankgiros` (`created_at`, `updated_at`, `avinr`, `gross`) VALUES('2011-03-31 12:41:37', '2011-03-31 12:41:37', 0, 77)[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (1.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mPayment Update (0.3ms)[0m   [0mUPDATE `payments` SET `updated_at` = '2011-03-31 12:41:37', `reciept_id` = 88, `reciept_type` = 'Bankgiro' WHERE `id` = 1196[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 241ms (DB: 13) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:41:37) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (5.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (1.7ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:37', `perishable_token` = 's7yBy2hz9JRhCGYxHs0K', `last_request_at` = '2011-03-31 12:41:37' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (81.3ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mBankgiro Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bankgiros`[0m
  [4;36;1mBankgiro Load (0.5ms)[0m   [0;1mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 88) [0m
  [4;35;1mBooking Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCoupon Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.2ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.1ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.1ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 503ms (View: 208, DB: 108) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:41:41) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:41', `perishable_token` = 'hX8iLn_9m865uu1_vM3x', `last_request_at` = '2011-03-31 12:41:41' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mBankgiro Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `bankgiros`[0m
  [4;36;1mBankgiro Load (0.2ms)[0m   [0;1mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 88) [0m
  [4;35;1mCoupon Load (1.0ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (1.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (1.1ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (116.0ms)
Completed in 318ms (View: 99, DB: 36) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:41:51) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon_id"=>"44", "avinr"=>"1234", "type"=>"bg", "gross"=>"", "note"=>""}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:51', `perishable_token` = '-2NhGbC0zmSv9dvRmPSq', `last_request_at` = '2011-03-31 12:41:51' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;35;1mBankgiro Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bankgiros`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mBankgiro Create (0.3ms)[0m   [0mINSERT INTO `bankgiros` (`created_at`, `updated_at`, `avinr`, `gross`) VALUES('2011-03-31 12:41:51', '2011-03-31 12:41:51', 1234, NULL)[0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mParticipant Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (1.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mPayment Update (0.3ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2011-03-31 12:41:51', `reciept_id` = 89, `value` = NULL WHERE `id` = 1196[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 226ms (DB: 14) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:41:51) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:51', `perishable_token` = 'djlnL9VdmdOdRRo8x1bl', `last_request_at` = '2011-03-31 12:41:51' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mBankgiro Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bankgiros`[0m
  [4;35;1mBankgiro Load (1.9ms)[0m   [0mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 89) [0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.8ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.6ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.1ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 334ms (View: 126, DB: 27) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:41:55) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:41:55', `perishable_token` = 'SJsFgFR43SoEK2Ok4zE2', `last_request_at` = '2011-03-31 12:41:55' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mBankgiro Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bankgiros`[0m
  [4;35;1mBankgiro Load (0.5ms)[0m   [0mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 89) [0m
  [4;36;1mCoupon Load (0.9ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.7ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (207.6ms)
Completed in 301ms (View: 193, DB: 33) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.2ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:45:45) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:45:45', `perishable_token` = 'uWTupfTJS_QlwjGHQ67E', `last_request_at` = '2011-03-31 12:45:45' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mBankgiro Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bankgiros`[0m
  [4;35;1mBankgiro Load (0.7ms)[0m   [0mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 89) [0m
  [4;36;1mCoupon Load (0.8ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.8ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (201.0ms)
Completed in 347ms (View: 189, DB: 34) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:45:51) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "bg"=>{"avinr"=>"1234", "gross"=>"87"}, "free"=>{"note"=>""}, "type"=>"bg", "cash"=>{"gross"=>""}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:45:51', `perishable_token` = 'Ztun5v2KyAj_d-mV_1PO', `last_request_at` = '2011-03-31 12:45:51' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (1.0ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mBankgiro Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bankgiros`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mBankgiro Create (0.3ms)[0m   [0;1mINSERT INTO `bankgiros` (`created_at`, `updated_at`, `avinr`, `gross`) VALUES('2011-03-31 12:45:51', '2011-03-31 12:45:51', 1234, 87)[0m
  [4;35;1mBooking Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (1.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mPayment Update (0.3ms)[0m   [0mUPDATE `payments` SET `updated_at` = '2011-03-31 12:45:51', `reciept_id` = 90, `value` = 87 WHERE `id` = 1196[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 114ms (DB: 13) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:45:51) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:45:51', `perishable_token` = 'fK3e9LOvtKQqs34KeJ4f', `last_request_at` = '2011-03-31 12:45:51' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mBankgiro Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bankgiros`[0m
  [4;36;1mBankgiro Load (0.4ms)[0m   [0;1mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 90) [0m
  [4;35;1mBooking Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (3.7ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCoupon Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (1.4ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.5ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.2ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.1ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 314ms (View: 216, DB: 26) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:45:54) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.8ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:45:54', `perishable_token` = 'XHlNqNJOEindPpekcniO', `last_request_at` = '2011-03-31 12:45:54' WHERE `id` = 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mBankgiro Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bankgiros`[0m
  [4;36;1mBankgiro Load (1.8ms)[0m   [0;1mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 90) [0m
  [4;35;1mCoupon Load (0.9ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (1.8ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (202.4ms)
Completed in 296ms (View: 185, DB: 36) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (5.8ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:46:19) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:19', `perishable_token` = 'JwmCxaCjh7-f8UeD9vMr', `last_request_at` = '2011-03-31 12:46:19' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (2.3ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mBankgiro Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `bankgiros`[0m
  [4;36;1mBankgiro Load (0.7ms)[0m   [0;1mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 90) [0m
  [4;35;1mCoupon Load (1.0ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (5.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (4.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (3.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (252.4ms)
Completed in 534ms (View: 230, DB: 55) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:46:32) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "bg"=>{"avinr"=>"1234", "gross"=>"87"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"33"}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:32', `perishable_token` = 'nIDY3Xiv5JtHw1PDTbJS', `last_request_at` = '2011-03-31 12:46:32' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;35;1mCash Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCash Create (0.2ms)[0m   [0mINSERT INTO `cashes` (`created_at`, `updated_at`, `gross`) VALUES('2011-03-31 12:46:32', '2011-03-31 12:46:32', 33)[0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (1.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mPayment Update (0.3ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2011-03-31 12:46:32', `reciept_id` = 75, `value` = 33, `reciept_type` = 'Cash' WHERE `id` = 1196[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 220ms (DB: 12) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:46:32) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:33', `perishable_token` = '0pLaRBOKtMX5HTZfTVdx', `last_request_at` = '2011-03-31 12:46:33' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (1.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCash Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 75) [0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.8ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (1.8ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.5ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 304ms (View: 204, DB: 25) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:46:35) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:35', `perishable_token` = 'sf9zGhG45px7ln_wekNQ', `last_request_at` = '2011-03-31 12:46:35' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCash Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.4ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 75) [0m
  [4;35;1mCoupon Load (0.9ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.9ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (201.6ms)
Completed in 400ms (View: 187, DB: 32) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:46:43) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"45"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>"33"}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.0ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:44', `perishable_token` = 'sQlH_vepFLaP-V-M_KEI', `last_request_at` = '2011-03-31 12:46:44' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;35;1mCoupon Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 45) [0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mBooking Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mPayment Update (0.9ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2011-03-31 12:46:44', `reciept_id` = 45, `value` = 350, `reciept_type` = 'Coupon' WHERE `id` = 1196[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 252ms (DB: 19) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:46:44) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:44', `perishable_token` = 'j4KNJZlNww87-heEkrdo', `last_request_at` = '2011-03-31 12:46:44' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 45) [0m
  [4;36;1mBooking Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.1ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.6ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 405ms (View: 205, DB: 22) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:46:50) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:46:50', `perishable_token` = 'ZXKf1UF1kieulPnOXSsb', `last_request_at` = '2011-03-31 12:46:50' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Columns (6.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 45) [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (1.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (202.4ms)
Completed in 405ms (View: 183, DB: 38) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:48:34) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"45"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"22"}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:48:34', `perishable_token` = '2Ta3xS2MRbSQtCK0052z', `last_request_at` = '2011-03-31 12:48:34' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mCash Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCash Create (0.2ms)[0m   [0;1mINSERT INTO `cashes` (`created_at`, `updated_at`, `gross`) VALUES('2011-03-31 12:48:35', '2011-03-31 12:48:35', 22)[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (1.8ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mPayment Update (0.3ms)[0m   [0mUPDATE `payments` SET `updated_at` = '2011-03-31 12:48:35', `reciept_id` = 76, `value` = 22, `reciept_type` = 'Cash' WHERE `id` = 1196[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 236ms (DB: 14) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:48:35) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:48:35', `perishable_token` = 'HyF0unxpsRszlXOjv1fX', `last_request_at` = '2011-03-31 12:48:35' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCash Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.8ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 76) [0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCoupon Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.5ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.1ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (1.1ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 425ms (View: 209, DB: 24) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:48:38) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:48:38', `perishable_token` = 'kTJ429II6PmSTogqhqv3', `last_request_at` = '2011-03-31 12:48:38' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCash Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 76) [0m
  [4;36;1mCoupon Load (0.8ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.7ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (113.0ms)
Completed in 410ms (View: 199, DB: 33) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:48:44) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"46"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>"22"}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:48:44', `perishable_token` = 'S4XIVljsm30SVaGa0i28', `last_request_at` = '2011-03-31 12:48:44' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (1.3ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mCoupon Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 46) [0m
  [4;36;1mGiftCertificate Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mBooking Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m

NoMethodError (undefined method `price' for #<ActiveRecord::Associations::BelongsToPolymorphicAssociation:0x105304f20>):
  app/models/payment.rb:87:in `reciept_attributes='
  app/controllers/admin/payments_controller.rb:54:in `update'
  app/controllers/admin/payments_controller.rb:52:in `update'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (45.6ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:49:56) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"46"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>"22"}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:49:56', `perishable_token` = 'Hv_QrOGo2WqlXDkkMRp0', `last_request_at` = '2011-03-31 12:49:56' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mCoupon Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.9ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 46) [0m
  [4;36;1mGiftCertificate Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mBooking Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (3.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mParticipant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mPayment Update (0.5ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2011-03-31 12:49:57', `reciept_id` = 46, `value` = 130, `reciept_type` = 'Coupon' WHERE `id` = 1196[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 317ms (DB: 25) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:49:57) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:49:57', `perishable_token` = 'S2hKA5xkKMauWAdlBfMt', `last_request_at` = '2011-03-31 12:49:57' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 46) [0m
  [4;36;1mBooking Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.9ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (1.0ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.3ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.2ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.1ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 298ms (View: 202, DB: 23) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::BookingsController#index (for 127.0.0.1 at 2011-03-31 14:50:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/bookings", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:50:04', `perishable_token` = 'L2MC3SDuokhqb5Hl4B5-', `last_request_at` = '2011-03-31 12:50:04' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` ORDER BY bookings.created_at DESC LIMIT 0, 10[0m
  [4;36;1mBooking Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` [0m
Rendering template within layouts/application
Rendering admin/bookings/index
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 681 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 46) [0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (1.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mSession Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 680 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 679 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mCash Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.7ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 678 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 677 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 676 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCash Load (0.2ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 675 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 674 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCash Load (0.2ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 673 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 672 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
Completed in 313ms (View: 207, DB: 27) | 200 OK [http://localhost/admin/bokningar]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:50:27) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:50:27', `perishable_token` = 'q_9Ppsasds0UByDBW-xm', `last_request_at` = '2011-03-31 12:50:27' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 46) [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.2ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (195.2ms)
Completed in 392ms (View: 183, DB: 30) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:50:33) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"46"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"free", "cash"=>{"gross"=>""}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:50:33', `perishable_token` = 'Pt4Uxg5EkyreD59xkWia', `last_request_at` = '2011-03-31 12:50:33' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;35;1mFree Columns (3.1ms)[0m   [0mSHOW FIELDS FROM `frees`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mFree Create (0.2ms)[0m   [0mINSERT INTO `frees` (`created_at`, `updated_at`, `reference_id`, `reference_type`, `note`) VALUES('2011-03-31 12:50:33', '2011-03-31 12:50:33', NULL, NULL, '')[0m
  [4;36;1mBooking Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (1.6ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mPayment Update (0.3ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2011-03-31 12:50:33', `reciept_id` = 348, `reciept_type` = 'Free' WHERE `id` = 1196[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 234ms (DB: 14) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:50:33) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:50:33', `perishable_token` = 'EUsEnxk8svLpyYdhPTJW', `last_request_at` = '2011-03-31 12:50:33' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mFree Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `frees`[0m
  [4;35;1mFree Load (0.5ms)[0m   [0mSELECT * FROM `frees` WHERE (`frees`.`id` = 348) [0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (2.7ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.5ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.4ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.1ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 411ms (View: 206, DB: 27) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:50:57) [GET]
  Parameters: {"action"=>"edit", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:50:57', `perishable_token` = 'uHHsg_0rlFrzTgqOtF0g', `last_request_at` = '2011-03-31 12:50:57' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mFree Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `frees`[0m
  [4;35;1mFree Load (0.4ms)[0m   [0mSELECT * FROM `frees` WHERE (`frees`.`id` = 348) [0m
  [4;36;1mCoupon Load (0.8ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.7ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (219.1ms)
Completed in 437ms (View: 206, DB: 33) | 200 OK [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:50:59) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"ad7ca7d2a320db0c9abed74cda96f528ebd3dd32", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"free", "cash"=>{"gross"=>""}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:50:59', `perishable_token` = 'GtEFkMZse-0JZ66TAs2t', `last_request_at` = '2011-03-31 12:50:59' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'ad7ca7d2a320db0c9abed74cda96f528ebd3dd32') LIMIT 1[0m
  [4;36;1mFree Columns (30.6ms)[0m   [0;1mSHOW FIELDS FROM `frees`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mFree Create (0.2ms)[0m   [0;1mINSERT INTO `frees` (`created_at`, `updated_at`, `reference_id`, `reference_type`, `note`) VALUES('2011-03-31 12:51:00', '2011-03-31 12:51:00', NULL, NULL, '')[0m
  [4;35;1mBooking Columns (3.9ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mParticipant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (1.6ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mPayment Update (0.3ms)[0m   [0mUPDATE `payments` SET `updated_at` = '2011-03-31 12:51:00', `reciept_id` = 349, `value` = 0 WHERE `id` = 1196[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 264ms (DB: 45) | 302 Found [http://localhost/admin/kvitton/ad7ca7d2a320db0c9abed74cda96f528ebd3dd32?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:51:00) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (3.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 12:51:00', `perishable_token` = 'fCvrpxmCuP9NuVYwEFfV', `last_request_at` = '2011-03-31 12:51:00' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mFree Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `frees`[0m
  [4;36;1mFree Load (0.4ms)[0m   [0;1mSELECT * FROM `frees` WHERE (`frees`.`id` = 349) [0m
  [4;35;1mBooking Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;35;1mSession Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.1ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCoupon Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.7ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.2ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 324ms (View: 121, DB: 26) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 14:51:12) [GET]
  Parameters: {"action"=>"edit", "id"=>"4907d7f05a3352ed0494d2efb37362e0539bbed6", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:51:12', `perishable_token` = 'FvCYy5fxSjYmMmh7fcp0', `last_request_at` = '2011-03-31 12:51:12' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = '4907d7f05a3352ed0494d2efb37362e0539bbed6') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;35;1mCoupon Load (1.0ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.8ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (202.8ms)
Completed in 293ms (View: 189, DB: 32) | 200 OK [http://localhost/admin/kvitton/4907d7f05a3352ed0494d2efb37362e0539bbed6/edit?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#update (for 127.0.0.1 at 2011-03-31 14:51:21) [PUT]
  Parameters: {"commit"=>"Update", "action"=>"update", "_method"=>"put", "id"=>"4907d7f05a3352ed0494d2efb37362e0539bbed6", "show_payment"=>"paid_or_not", "payment"=>{"name"=>"Testart", "meta"=>"", "reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "bg"=>{"avinr"=>"", "gross"=>""}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"123"}}, "note"=>"", "email"=>""}, "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.9ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:51:21', `perishable_token` = 'wBLqRYMpkBvslP4f7kDP', `last_request_at` = '2011-03-31 12:51:21' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.8ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = '4907d7f05a3352ed0494d2efb37362e0539bbed6') LIMIT 1[0m
  [4;35;1mCash Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCash Create (0.2ms)[0m   [0mINSERT INTO `cashes` (`created_at`, `updated_at`, `gross`) VALUES('2011-03-31 12:51:21', '2011-03-31 12:51:21', 123)[0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mParticipant Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;36;1mPayment Update (0.4ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2011-03-31 12:51:21', `reciept_id` = 77, `value` = 123, `note` = '', `meta` = '', `reciept_type` = 'Cash' WHERE `id` = 1188[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/kvitton?show_payment=paid_or_not
Completed in 224ms (DB: 14) | 302 Found [http://localhost/admin/kvitton/4907d7f05a3352ed0494d2efb37362e0539bbed6?show_payment=paid_or_not]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 14:51:21) [GET]
  Parameters: {"action"=>"index", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 12:51:21', `perishable_token` = 'C8lCvrK8T55xovD5hoto', `last_request_at` = '2011-03-31 12:51:21' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mFree Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `frees`[0m
  [4;35;1mFree Load (0.3ms)[0m   [0mSELECT * FROM `frees` WHERE (`frees`.`id` = 349) [0m
  [4;36;1mBooking Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 681) [0m
  [4;36;1mSession Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.9ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (2.1ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (2.9ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 680) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.4ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 73) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 679) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 678) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 677) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 72) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.2ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;35;1mBooking Load (0.1ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.2ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 77) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mPayment Load (0.9ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 328ms (View: 222, DB: 26) | 200 OK [http://localhost/admin/kvitton?show_payment=paid_or_not]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:02:43) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (57.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:02:44', `perishable_token` = 'Bt9s7WjZKoQ9Rxs0OBEm', `last_request_at` = '2011-03-31 13:02:44' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (6.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.2ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.8ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.7ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m

ActionView::TemplateError (undefined local variable or method `a' for #<ActionView::Base:0x10577d688>) on line #6 of app/views/admin/attendants/_new_attendant.html.erb:
3: <% radio_name = "#{payment_name}[type]" %>
4: <% id_prefix = "participand_index_0_" %>
5: <li style="list-style:none">
6:   <% a_id = "attendant_#{a.object.participant.id}" %>
7:   <%= check_box_tag :status, :id => a_id   %>
8:   <% p_id = "participant_#{a.object.participant.id}" %>
9:   <%= link_to_function "Remove", "(function(li){

    app/views/admin/attendants/_new_attendant.html.erb:6
    app/helpers/attendants_helper.rb:17:in `add_participant_link'
    app/helpers/application_helper.rb:6:in `include_inline_resource'
    app/helpers/attendants_helper.rb:15:in `add_participant_link'
    app/views/admin/attendants/edit.html.erb:35
    app/views/admin/attendants/edit.html.erb:10
    app/controllers/admin/attendants_controller.rb:17:in `index'
    app/controllers/admin/attendants_controller.rb:9:in `index'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (67.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:05:42) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (13.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:05:43', `perishable_token` = 'QLzyyv3D0MkwdCAiHSJq', `last_request_at` = '2011-03-31 13:05:43' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.8ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.4ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (1.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;35;1mParticipant Load (0.5ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (7.0ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m

ActionView::TemplateError (undefined local variable or method `a' for #<ActionView::Base:0x10532ab30>) on line #8 of app/views/admin/attendants/_new_attendant.html.erb:
5: <li style="list-style:none">
6:   <% a_id = "#{ id_prefix }attendant" %>
7:   <%= check_box_tag :status, :id => a_id   %>
8:   <% p_id = "participant_#{a.object.participant.id}" %>
9:   <%#= link_to_function "Remove", "(function(li){
10:     $(li).hide().find(':checkbox').each(function(){
11:       $(this).val('_delete')[0].checked = true

    app/views/admin/attendants/_new_attendant.html.erb:8
    app/helpers/attendants_helper.rb:17:in `add_participant_link'
    app/helpers/application_helper.rb:6:in `include_inline_resource'
    app/helpers/attendants_helper.rb:15:in `add_participant_link'
    app/views/admin/attendants/edit.html.erb:35
    app/views/admin/attendants/edit.html.erb:10
    app/controllers/admin/attendants_controller.rb:17:in `index'
    app/controllers/admin/attendants_controller.rb:9:in `index'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (175.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (24.6ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:05:52) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:05:52', `perishable_token` = '-8cgtthfhKlYu1I_QXFw', `last_request_at` = '2011-03-31 13:05:52' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.0ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.6ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
ERROR: compiling _run_erb_app47views47admin47attendants47_new_attendant46html46erb_locals_new_attendant_object RAISED compile error
/Users/jhoglund/Projects/Nava/application/app/views/admin/attendants/_new_attendant.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting kEND
; "" p_id = "participant_#{a.object.par...
         ^
Function body:           def _run_erb_app47views47admin47attendants47_new_attendant46html46erb_locals_new_attendant_object(local_assigns)
            old_output_buffer = output_buffer;object = local_assigns[:object];new_attendant = local_assigns[:new_attendant];;@output_buffer = '';  __in_erb_template=true ;  participant_name = 'session[bookings_attributes][0][participant_attributes]' ; @output_buffer.concat "\n"
;  payment_name = "#{participant_name}[reciept_attributes]" ; @output_buffer.concat "\n"
;  radio_name = "#{payment_name}[type]" ; @output_buffer.concat "\n"
;  id_prefix = "participand_index_0_" ; @output_buffer.concat "\n<li style=\"list-style:none\">\n  "

;  a_id = "#{ id_prefix }attendant" ; @output_buffer.concat "\n  "
; @output_buffer.concat(( check_box_tag :status, :id => a_id   ).to_s); @output_buffer.concat "\n  "
; "" p_id = "participant_#{a.object.participant.id}" ; @output_buffer.concat "\n  "
; @output_buffer.concat "\n  |\n  "

; @output_buffer.concat "<br />\n  <p style=\"display:none\">\n  "

; @output_buffer.concat(( text_area_tag :comment, :rows => 4 ).to_s); @output_buffer.concat "\n  </p>\n\n</li>\n\n<p style=\"margin-left:20px;\">\n  "





; @output_buffer.concat(( select_tag("#{radio_name}", options_for_select([['Obetalt', 'none'],['Kontant', 'cash'],['Kuppong', 'coupon'],['Gratis', 'free']]), :onchange => 'participant_payment_options(this)') ).to_s); @output_buffer.concat "\n  <span id=\""
; @output_buffer.concat(( radio_name ).to_s); @output_buffer.concat "_options\">\n    <span id=\""
; @output_buffer.concat(( radio_name ).to_s); @output_buffer.concat "_cash\" style=\"display:none\">\n      "
; @output_buffer.concat(( text_field_tag "#{payment_name}[cash][gross]", nil ).to_s); @output_buffer.concat "\n    </span>\n    <span id=\""

; @output_buffer.concat(( radio_name ).to_s); @output_buffer.concat "_coupon\" style=\"display:none\">\n      "
; @output_buffer.concat(( select_tag "#{payment_name}[coupon][id]", options_from_collection_for_select(Coupon.active, 'id', 'to_s') ).to_s); @output_buffer.concat "\n    </span>\n    <span id=\""

; @output_buffer.concat(( radio_name ).to_s); @output_buffer.concat "_free\" style=\"display:none\">\n        <br>"
; @output_buffer.concat(( text_area_tag "#{payment_name}[free][note]", '', :rows => 5, :cols => 40 ).to_s); @output_buffer.concat "\n    </span>\n  </span>\n</p>\n"



; @output_buffer.concat(( hidden_field_tag "#{payment_name}[notify_by_mail]", false ).to_s); @output_buffer.concat "\n\n"

; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/jhoglund/Projects/Nava/application/app/views/admin/attendants/_new_attendant.html.erb:37:in `compile!'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/Users/jhoglund/Projects/Nava/application/app/helpers/attendants_helper.rb:17:in `add_participant_link'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:39:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:39:in `capture'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:129:in `with_output_buffer'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/helpers/capture_helper.rb:39:in `capture'
/Users/jhoglund/Projects/Nava/application/app/helpers/application_helper.rb:6:in `include_inline_resource'
/Users/jhoglund/Projects/Nava/application/app/helpers/attendants_helper.rb:15:in `add_participant_link'
/Users/jhoglund/Projects/Nava/application/app/views/admin/attendants/edit.html.erb:35:in `_run_erb_app47views47admin47attendants47edit46html46erb'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:499:in `fields_for'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/helpers/form_helper.rb:282:in `form_for'
/Users/jhoglund/Projects/Nava/application/app/views/admin/attendants/edit.html.erb:10:in `_run_erb_app47views47admin47attendants47edit46html46erb'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render_without_wicked_pdf'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render_without_wicked_pdf'
/Users/jhoglund/Projects/Nava/application/vendor/plugins/wicked_pdf/lib/pdf_helper.rb:15:in `render'
/Users/jhoglund/Projects/Nava/application/app/controllers/admin/attendants_controller.rb:17:in `index'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/jhoglund/Projects/Nava/application/app/controllers/admin/attendants_controller.rb:9:in `index'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rails-2.3.5/lib/commands/server.rb:111
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/jhoglund/Projects/Nava/application/app/views/admin/attendants/_new_attendant.html.erb:8: syntax error, unexpected tIDENTIFIER, expecting kEND
; "" p_id = "participant_#{a.object.par...
         ^) on line #8 of app/views/admin/attendants/_new_attendant.html.erb:
5: <li style="list-style:none">
6:   <% a_id = "#{ id_prefix }attendant" %>
7:   <%= check_box_tag :status, :id => a_id   %>
8:   <%"" p_id = "participant_#{a.object.participant.id}" %>
9:   <%#= link_to_function "Remove", "(function(li){
10:     $(li).hide().find(':checkbox').each(function(){
11:       $(this).val('_delete')[0].checked = true

    app/views/admin/attendants/_new_attendant.html.erb:37:in `compile!'
    app/helpers/attendants_helper.rb:17:in `add_participant_link'
    app/helpers/application_helper.rb:6:in `include_inline_resource'
    app/helpers/attendants_helper.rb:15:in `add_participant_link'
    app/views/admin/attendants/edit.html.erb:35
    app/views/admin/attendants/edit.html.erb:10
    app/controllers/admin/attendants_controller.rb:17:in `index'
    app/controllers/admin/attendants_controller.rb:9:in `index'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:05:59) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (4.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:05:59', `perishable_token` = 'sfsY0nJJJUibYJCsTUNC', `last_request_at` = '2011-03-31 13:05:59' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.5ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.9ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (1.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (199.6ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 556ms (View: 267, DB: 61) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:06:31) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"639"}, "22"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"780"}, "7"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2258", "status"=>"1", "participant_id"=>"686"}, "23"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"781"}, "8"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"699"}, "24"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"782"}, "9"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2260", "status"=>"_delete", "participant_id"=>"772"}, "25"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"783"}, "15"=>{"comment"=>"", "id"=>"2261", "status"=>"_delete", "participant_id"=>"773"}, "26"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"784"}, "0"=>{"comment"=>"", "id"=>"2246", "status"=>"0", "participant_id"=>"616"}, "16"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"774"}, "27"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"785"}, "1"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"617"}, "17"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"775"}, "2"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"497"}, "18"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"776"}, "3"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"508"}, "19"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"777"}, "20"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"778"}, "4"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"628"}, "21"=>{"comment"=>"", "status"=>"_delete", "participant_id"=>"779"}, "5"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"515"}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:06:31', `perishable_token` = 'FKQo4pIDtoZqbtUViDuG', `last_request_at` = '2011-03-31 13:06:31' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (0.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.`id` = 2260) ORDER BY sessions.starts_at[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttendant Destroy (0.2ms)[0m   [0;1mDELETE FROM `attendants` WHERE `id` = 2260[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAttendant Load Including Associations (0.6ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.`id` = 2261) ORDER BY sessions.starts_at[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttendant Destroy (0.2ms)[0m   [0;1mDELETE FROM `attendants` WHERE `id` = 2261[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/klasser/206/narvarande
Completed in 295ms (DB: 10) | 302 Found [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:06:32) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:06:32', `perishable_token` = 'wjHHddV3Bf1WDcVtk_li', `last_request_at` = '2011-03-31 13:06:32' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.7ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.4ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;35;1mParticipant Load (0.5ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;35;1mParticipant Load (1.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.3ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (1.0ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (196.3ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 636ms (View: 259, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:10:42) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.6ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:10:42', `perishable_token` = 'IEa-sHJfo3Hkj7vaWgGC', `last_request_at` = '2011-03-31 13:10:42' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.6ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.2ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.9ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.6ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (227.6ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 600ms (View: 277, DB: 59) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:11:05) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:11:05', `perishable_token` = 'HoYDb1hVkK92XptoPQye', `last_request_at` = '2011-03-31 13:11:05' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.8ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.1ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.3ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 779) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 780) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 781) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 782) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 783) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 784) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 785) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.6ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #16 of app/views/admin/attendants/edit.html.erb:
13:   <% f.fields_for :attendants, @session.attendants do |a| %>
14:     <li style="list-style:none">
15:     <%= a.hidden_field :participant_id %>
16:     <% a_id = "attendant_#{a.object.participant.id}" %>
17:     <%= a.check_box :status, :id => a_id   %>
18:     <%= a.label nil, a.object.participant.name, :for => a_id %>
19:     <% p_id = "participant_#{a.object.participant.id}" %>

    app/views/admin/attendants/edit.html.erb:16
    vendor/gems/will_paginate-2.3.12/lib/will_paginate/finder.rb:168:in `method_missing'
    vendor/gems/will_paginate-2.3.12/lib/will_paginate/finder.rb:168:in `method_missing'
    app/views/admin/attendants/edit.html.erb:13
    app/views/admin/attendants/edit.html.erb:10
    app/controllers/admin/attendants_controller.rb:17:in `index'
    app/controllers/admin/attendants_controller.rb:9:in `index'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:13:09) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:13:09', `perishable_token` = 'PlZzzeDHbWrFz49nl3_e', `last_request_at` = '2011-03-31 13:13:09' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.8ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.4ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.6ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.8ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (195.6ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 488ms (View: 225, DB: 54) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:17:22) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:17:22', `perishable_token` = '1L0yNPBpRh9p_AwvtowF', `last_request_at` = '2011-03-31 13:17:22' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (2.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.8ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.9ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.0ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (192.1ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 601ms (View: 317, DB: 57) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:20:05) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:20:06', `perishable_token` = 'J2DBJFYvYhe1JKAxvmgn', `last_request_at` = '2011-03-31 13:20:06' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.1ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mBooking Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.8ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.5ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m

ActionView::TemplateError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id) on line #16 of app/views/admin/attendants/edit.html.erb:
13:   <% f.fields_for :attendants, @session.attendants do |a| %>
14:     <li style="list-style:none">
15:     <%= a.hidden_field :participant_id %>
16:     <% a_id = "attendant_#{a.object.participant.id}" %>
17:     <%= a.check_box :status, :id => a_id   %>
18:     <%= a.label nil, a.object.participant.name, :for => a_id %>
19:     <% p_id = "participant_#{a.object.participant.id}" %>

    app/views/admin/attendants/edit.html.erb:16
    vendor/gems/will_paginate-2.3.12/lib/will_paginate/finder.rb:168:in `method_missing'
    vendor/gems/will_paginate-2.3.12/lib/will_paginate/finder.rb:168:in `method_missing'
    app/views/admin/attendants/edit.html.erb:13
    app/views/admin/attendants/edit.html.erb:10
    app/controllers/admin/attendants_controller.rb:17:in `index'
    app/controllers/admin/attendants_controller.rb:9:in `index'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (161.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:20:18) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:20:18', `perishable_token` = 'TpeEb0rs--aYuLwmQ6Lw', `last_request_at` = '2011-03-31 13:20:18' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.8ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.9ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (1.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.8ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.5ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.9ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (193.3ms)
  [4;35;1mSession Load (0.8ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 602ms (View: 316, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:20:28) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "status"=>"0", "participant_id"=>"515"}, "11"=>{"comment"=>"", "status"=>"0", "participant_id"=>"628"}, "7"=>{"comment"=>"", "status"=>"0", "participant_id"=>"516"}, "12"=>{"comment"=>"", "status"=>"0", "participant_id"=>"639"}, "8"=>{"comment"=>"", "status"=>"0", "participant_id"=>"613"}, "13"=>{"comment"=>"", "status"=>"0", "participant_id"=>"686"}, "9"=>{"comment"=>"", "status"=>"0", "participant_id"=>"621"}, "14"=>{"comment"=>"", "status"=>"0", "participant_id"=>"699"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"772"}, "0"=>{"comment"=>"", "id"=>"2246", "status"=>"_delete", "participant_id"=>"773"}, "1"=>{"comment"=>"", "status"=>"0", "participant_id"=>"616"}, "2"=>{"comment"=>"", "status"=>"0", "participant_id"=>"617"}, "3"=>{"comment"=>"", "status"=>"0", "participant_id"=>"497"}, "4"=>{"comment"=>"", "status"=>"0", "participant_id"=>"508"}, "10"=>{"comment"=>"", "status"=>"0", "participant_id"=>"625"}, "5"=>{"comment"=>"", "status"=>"0", "participant_id"=>"514"}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (1.0ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:20:29', `perishable_token` = 'ta0qLADRBHfqmlz0QjC-', `last_request_at` = '2011-03-31 13:20:29' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (29.0ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (9.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mAttendant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (0.3ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.`id` = 2246) ORDER BY sessions.starts_at[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mAttendant Destroy (0.2ms)[0m   [0mDELETE FROM `attendants` WHERE `id` = 2246[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mAttendant Create (0.3ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 616, 0)[0m
  [4;35;1mAttendant Create (0.2ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 617, 0)[0m
  [4;36;1mAttendant Create (0.1ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 497, 0)[0m
  [4;35;1mAttendant Create (0.1ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 508, 0)[0m
  [4;36;1mAttendant Create (0.2ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 514, 0)[0m
  [4;35;1mAttendant Create (0.1ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 515, 0)[0m
  [4;36;1mAttendant Create (0.1ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 516, 0)[0m
  [4;35;1mAttendant Create (0.1ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 613, 0)[0m
  [4;36;1mAttendant Create (0.1ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 621, 0)[0m
  [4;35;1mAttendant Create (0.1ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 625, 0)[0m
  [4;36;1mAttendant Create (0.2ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 628, 0)[0m
  [4;35;1mAttendant Create (0.2ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 639, 0)[0m
  [4;36;1mAttendant Create (0.2ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 686, 0)[0m
  [4;35;1mAttendant Create (0.2ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 699, 0)[0m
  [4;36;1mAttendant Create (0.2ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 13:20:29', '2011-03-31 13:20:29', 206, 772, 0)[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/klasser/206/narvarande
Completed in 290ms (DB: 50) | 302 Found [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:20:29) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:20:29', `perishable_token` = 'YrYFoh_7hgy7n401iiA5', `last_request_at` = '2011-03-31 13:20:29' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.8ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.5ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.4ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (2.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (192.9ms)
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 495ms (View: 229, DB: 56) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:24:26) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:24:26', `perishable_token` = 'HhXMKgJnF8vhAZ94tFCB', `last_request_at` = '2011-03-31 13:24:26' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.2ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.6ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.9ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (200.7ms)
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 561ms (View: 240, DB: 56) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:24:29) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:24:29', `perishable_token` = 'tBpfW97bM77yuIflXwic', `last_request_at` = '2011-03-31 13:24:29' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.9ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.8ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (2.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.5ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.7ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (198.1ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 519ms (View: 238, DB: 56) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:25:35) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (84.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:25:36', `perishable_token` = 'P3rosZt1_UsD5paYmpoV', `last_request_at` = '2011-03-31 13:25:36' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (19.4ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (1.9ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.5ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (196.9ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 742ms (View: 335, DB: 153) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:25:52) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:25:53', `perishable_token` = 'uK4RFSSiUmivflpkV5x7', `last_request_at` = '2011-03-31 13:25:53' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.5ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.5ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.5ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (198.9ms)
  [4;36;1mSession Load (0.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 613ms (View: 325, DB: 53) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:26:07) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:26:07', `perishable_token` = 'JmjqZoYcT2gd-HYeYTid', `last_request_at` = '2011-03-31 13:26:07' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (1.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.4ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.8ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (202.9ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 529ms (View: 240, DB: 53) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:26:16) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:26:16', `perishable_token` = '1GniSMSUnvB2FYeH9rv3', `last_request_at` = '2011-03-31 13:26:16' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.1ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.7ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.6ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (1.1ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (201.3ms)
  [4;36;1mSession Load (1.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 516ms (View: 237, DB: 55) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:27:33) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:27:33', `perishable_token` = '0OHnppdEHjBPi1fWTDfz', `last_request_at` = '2011-03-31 13:27:33' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.6ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.8ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.6ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (1.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.2ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (196.2ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 523ms (View: 238, DB: 54) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:37:46) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (60.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:37:46', `perishable_token` = 'HwpPZOjrkyxJOrp9s4iS', `last_request_at` = '2011-03-31 13:37:46' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (38.4ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.6ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.0ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.3ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (197.8ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 667ms (View: 239, DB: 147) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:38:33) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:38:33', `perishable_token` = '6WUPVxzzfx1EzAMibde6', `last_request_at` = '2011-03-31 13:38:33' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.6ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.4ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.7ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (216.0ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 522ms (View: 250, DB: 56) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:38:55) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:38:55', `perishable_token` = 'cDfH9Y-0_cUcKopaw5tW', `last_request_at` = '2011-03-31 13:38:55' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.6ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.9ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (201.8ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 513ms (View: 245, DB: 54) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:40:55) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:40:55', `perishable_token` = '_3Y_ZFzdN_IO4Mc0CzXw', `last_request_at` = '2011-03-31 13:40:55' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.6ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (3.1ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.7ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.3ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (208.8ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 525ms (View: 251, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:41:36) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:41:37', `perishable_token` = 'hlqRnFI8JLo151bP_W3B', `last_request_at` = '2011-03-31 13:41:37' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.8ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.5ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (2.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (9.2ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (211.1ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 532ms (View: 250, DB: 61) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:41:49) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:41:49', `perishable_token` = 'HRf3b5CcIvD0EcSeGRiU', `last_request_at` = '2011-03-31 13:41:49' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.8ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.6ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.5ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.8ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (201.6ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 514ms (View: 242, DB: 55) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:43:44) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:43:45', `perishable_token` = '1EcoW4Ol46btLvgyZthn', `last_request_at` = '2011-03-31 13:43:45' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.8ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.6ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.8ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (220.2ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 695ms (View: 258, DB: 60) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:44:05) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (3.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:44:06', `perishable_token` = '6GUZRoFw_2E-hUbKnmtl', `last_request_at` = '2011-03-31 13:44:06' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.9ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.4ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.4ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (203.3ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 668ms (View: 334, DB: 55) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:45:30) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (73.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:45:31', `perishable_token` = 'Fk3PkCubk3LJMJeYZaXw', `last_request_at` = '2011-03-31 13:45:31' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (3.0ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (1.9ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.8ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.4ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (197.4ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 734ms (View: 327, DB: 126) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:46:08) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:46:08', `perishable_token` = 'V-aIR3NHexgY5FHvQAWj', `last_request_at` = '2011-03-31 13:46:08' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.8ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.9ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.5ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (217.6ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 698ms (View: 359, DB: 62) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:47:11) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (7.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:47:11', `perishable_token` = 'iM38XrQIYDhXo4HC1E22', `last_request_at` = '2011-03-31 13:47:11' WHERE `id` = 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.9ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (202.0ms)
  [4;36;1mSession Load (1.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 695ms (View: 355, DB: 61) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:47:59) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"1"=>{"participant_attributes"=>{"name"=>"jonastest", "reciept_attributes"=>{"notify_by_mail"=>"false", "coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"23"}}, "attendants_attributes"=>{"comment"=>"rows4", "session_id"=>"206", "status"=>"1"}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:47:59', `perishable_token` = 'yyuNcX96qbh8VOiRkz3e', `last_request_at` = '2011-03-31 13:47:59' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.1ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (1.9ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: reciept_attributes):
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (155.1ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:50:40) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (63.5ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:50:40', `perishable_token` = 'ZvB8NgfIbOltTkfeXBem', `last_request_at` = '2011-03-31 13:50:40' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (16.3ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (1.8ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (1.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mBooking Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.7ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.3ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (108.4ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 783ms (View: 330, DB: 127) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:50:53) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"participant_attributes"=>{"name"=>"Jonas", "attendants_attributes"=>{"comment"=>"rows4", "session_id"=>"206", "status"=>"1"}, "payment_attributes"=>{"reciept_attributes"=>{"notify_by_mail"=>"false", "coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"123"}}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:50:53', `perishable_token` = 'Mbqq0yXk4PYB3sC92pSx', `last_request_at` = '2011-03-31 13:50:53' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mAttendant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (1.9ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m

NoMethodError (undefined method `with_indifferent_access' for "rows4":String):
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (163.5ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:53:43) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (6.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:53:43', `perishable_token` = 'PmL-NVP1cG9QMcCLmZV_', `last_request_at` = '2011-03-31 13:53:43' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.7ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (207.7ms)
  [4;36;1mSession Load (1.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 584ms (View: 247, DB: 60) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 15:53:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 15:53:47) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (4.4ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:55:30) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (57.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:55:30', `perishable_token` = 'eAvldsNzEIJCKpWDg0fI', `last_request_at` = '2011-03-31 13:55:30' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (7.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (3.9ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.6ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.8ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (1.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (207.9ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 626ms (View: 244, DB: 123) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 15:55:30) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:55:49) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"participant_attributes"=>{"name"=>"Jonas", "attendants_attributes"=>{"comment"=>"", "0"=>{"session_id"=>"206", "status"=>"1"}}, "payment_attributes"=>{"reciept_attributes"=>{"notify_by_mail"=>"false", "coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"1212"}}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (12.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:55:50', `perishable_token` = 'vho5JGaQrm48GJ7tbYyr', `last_request_at` = '2011-03-31 13:55:50' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m

NoMethodError (undefined method `with_indifferent_access' for "":String):
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (63.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:56:30) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (61.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:56:30', `perishable_token` = 'tKLixpLKIVECJvvJXVa_', `last_request_at` = '2011-03-31 13:56:30' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (3.7ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (37.1ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.6ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (1.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.4ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.6ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mBooking Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.7ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (229.1ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 656ms (View: 269, DB: 155) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:56:41) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"participant_attributes"=>{"name"=>"jonas", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}, "payment_attributes"=>{"reciept_attributes"=>{"notify_by_mail"=>"false", "coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"321"}}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 13:56:42', `perishable_token` = 'I8GS9OaskBF7JjJmldTc', `last_request_at` = '2011-03-31 13:56:42' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.8ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mAttendant Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.0ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: payment_attributes):
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.7ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 15:58:34) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (5.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:58:34', `perishable_token` = 'hPKsDjQGifp265sMhfR4', `last_request_at` = '2011-03-31 13:58:34' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.6ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.3ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (204.8ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 667ms (View: 342, DB: 57) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 15:58:45) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"participant_attributes"=>{"name"=>"Jo", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "disable_validation"=>"true", "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"123"}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 13:58:45', `perishable_token` = '7GnJOAnsC3R7u0Nq1YN7', `last_request_at` = '2011-03-31 13:58:45' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.2ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mPayment Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mCash Columns (67.2ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mROLLBACK[0m
Rendering template within layouts/application
Rendering admin/attendants/edit
  [4;35;1mParticipant Load (7.6ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (207.5ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 716ms (View: 255, DB: 121) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:00:12) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (62.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:00:12', `perishable_token` = 'eO6K6hnoCZVTzgJJuxS_', `last_request_at` = '2011-03-31 14:00:12' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.4ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;36;1mSession Columns (11.4ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 670) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.2ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 69) [0m
  [4;36;1mCoupon Load (0.7ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 570) [0m
  [4;35;1mGiftCertificate Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mGiftCertificateType Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 669) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 667) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSession Load (19.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 665) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 664) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCouponType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 662) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mPayment Load (1.0ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 578ms (View: 268, DB: 116) | 200 OK [http://localhost/admin/kvitton]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:02:16) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (5.4ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:02:16', `perishable_token` = 'HFEAhx1Mg6N4Ka9SYzfB', `last_request_at` = '2011-03-31 14:02:16' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.9ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.2ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mBooking Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Load (0.4ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.3ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.9ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (216.2ms)
  [4;36;1mSession Load (2.1ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 682ms (View: 365, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:02:28) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"participant_attributes"=>{"name"=>"Jonas", "disable_validation"=>"true", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"789"}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:02:29', `perishable_token` = 'IkA_A8rOjvQ3MEz6zABH', `last_request_at` = '2011-03-31 14:02:29' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (1.9ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m

ActiveRecord::UnknownAttributeError (unknown attribute: disable_validation):
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (166.8ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:03:01) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:03:01', `perishable_token` = 'Bvm-fNn2nPLAqc75mKkl', `last_request_at` = '2011-03-31 14:03:01' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.3ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.7ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mBooking Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (7.7ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (2.3ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (2.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (214.2ms)
  [4;35;1mSession Load (1.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.9ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 580ms (View: 261, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:03:10) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "status"=>"0", "participant_id"=>"773"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"Jonas", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"1234"}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:03:10', `perishable_token` = 'rjUOaimmji0m6lsCPtF6', `last_request_at` = '2011-03-31 14:03:10' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mAttendant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.1ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mCash Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mParticipant Create (0.3ms)[0m   [0mINSERT INTO `participants` (`name`, `created_at`, `updated_at`, `phone`, `email`) VALUES('Jonas', '2011-03-31 14:03:10', '2011-03-31 14:03:10', NULL, NULL)[0m
  [4;36;1mAttendant Create (0.4ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 14:03:10', '2011-03-31 14:03:10', 206, 774, 1)[0m
  [4;35;1mBooking Create (0.4ms)[0m   [0mINSERT INTO `bookings` (`created_at`, `token`, `updated_at`, `booker_type`, `booker_id`, `participant_id`, `status`) VALUES('2011-03-31 14:03:10', '6adbefa18ce83b3d5c2c86ac50d52b8132bdc6f4', '2011-03-31 14:03:10', 'Session', 206, 774, 0)[0m
  [4;36;1mBooking Update (0.3ms)[0m   [0;1mUPDATE `bookings` SET `updated_at` = '2011-03-31 14:03:10', `created_at` = '2011-03-31 14:03:10', `participant_id` = 774, `booker_id` = 206, `booker_type` = 'Session', `token` = '6adbefa18ce83b3d5c2c86ac50d52b8132bdc6f4' WHERE `id` = 672[0m
  [4;35;1mCash Create (0.5ms)[0m   [0mINSERT INTO `cashes` (`created_at`, `updated_at`, `gross`) VALUES('2011-03-31 14:03:10', '2011-03-31 14:03:10', 1234)[0m
  [4;36;1mBooking Load (1.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mPayment Create (0.6ms)[0m   [0;1mINSERT INTO `payments` (`name`, `created_at`, `token`, `reciept_id`, `updated_at`, `meta`, `value`, `note`, `item_id`, `reciept_type`, `email`, `item_type`) VALUES('Jonas', '2011-03-31 14:03:10', '0d61ac5d6c0560a009777a36f0378c71518c52cb', 70, '2011-03-31 14:03:10', NULL, 1234, NULL, 672, 'Cash', NULL, 'Booking')[0m
  [4;35;1mAttendant Create (0.5ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 14:03:10', '2011-03-31 14:03:10', 206, 773, 0)[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/klasser/206/narvarande
Completed in 400ms (DB: 21) | 302 Found [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:03:10) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:03:10', `perishable_token` = '8gKTs9PlSixIRdvlE6zq', `last_request_at` = '2011-03-31 14:03:10' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (2.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.3ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.7ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.2ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (202.2ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 614ms (View: 240, DB: 61) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:03:28) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.7ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:03:28', `perishable_token` = 'te-z_d51OlQvJJw30c93', `last_request_at` = '2011-03-31 14:03:28' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCash Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.2ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 70) [0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mSession Columns (2.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.1ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Columns (3.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (1.1ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 670) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Load (0.4ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 69) [0m
  [4;36;1mCoupon Load (0.2ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 570) [0m
  [4;35;1mGiftCertificate Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 669) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 668) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 667) [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 665) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 664) [0m
  [4;36;1mCourse Load (0.1ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;36;1mCouponType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 534ms (View: 245, DB: 34) | 200 OK [http://localhost/admin/kvitton]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing PaymentsController#show (for 127.0.0.1 at 2011-03-31 16:03:38) [GET]
  Parameters: {"action"=>"show", "id"=>"0d61ac5d6c0560a009777a36f0378c71518c52cb", "controller"=>"payments", "locale"=>"sv-SE"}
  [4;36;1mPayment Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = '0d61ac5d6c0560a009777a36f0378c71518c52cb') LIMIT 1[0m
  [4;36;1mBooking Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mSession Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
Rendering template within layouts/application
Rendering /Users/jhoglund/Projects/Nava/application/app/views/sessions/reciept.html.erb
Rendered sessions/_house_rules (0.7ms)
  [4;36;1mParticipant Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.5ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mCourse Columns (2.5ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.7ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.8ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 672 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mCash Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.6ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 70) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 70) [0m
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:03:38', `perishable_token` = '1uqHM3tdbT95GlfpPi20', `last_request_at` = '2011-03-31 14:03:38' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 275ms (View: 226, DB: 18) | 200 OK [http://localhost/kvitton/0d61ac5d6c0560a009777a36f0378c71518c52cb]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:04:08) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:04:08) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:04:24) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"1", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"1", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"1", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"1", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "id"=>"2262", "status"=>"1", "participant_id"=>"774"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "16"=>{"comment"=>"", "id"=>"2263", "status"=>"0", "participant_id"=>"773"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"1", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"Pappa", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"none", "cash"=>{"gross"=>""}}}}, "1"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"Stina", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"48"}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>""}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:04:24', `perishable_token` = 'g8n1ZTtTadJEI8fG0z77', `last_request_at` = '2011-03-31 14:04:24' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mAttendant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.2ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.destroy):
  app/models/payment.rb:90:in `reciept_attributes='
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (65.7ms)
Rendered rescues/_request_and_response (98.8ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:04:37) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (4.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:04:37', `perishable_token` = '-VJTkDqwgWg4CO7V5w7M', `last_request_at` = '2011-03-31 14:04:37' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (1.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.6ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.4ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (1.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.6ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (212.4ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 580ms (View: 254, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:04:41) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:04:41) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:04:56) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "id"=>"2262", "status"=>"1", "participant_id"=>"774"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "16"=>{"comment"=>"", "id"=>"2263", "status"=>"0", "participant_id"=>"773"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"teete", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"45"}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>""}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:04:56', `perishable_token` = 'gPWZOeRgFWtOixEJP7-r', `last_request_at` = '2011-03-31 14:04:56' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.0ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mCoupon Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 45) [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m

NoMethodError (undefined method `price' for nil:NilClass):
  app/models/payment.rb:88:in `reciept_attributes='
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (64.1ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:06:36) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (105.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:06:36', `perishable_token` = 't9F0Y2aMEflw-uWFxbEZ', `last_request_at` = '2011-03-31 14:06:36' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.6ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.7ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.1ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.8ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (8.3ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (207.1ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 690ms (View: 276, DB: 159) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:06:46) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "id"=>"2262", "status"=>"1", "participant_id"=>"774"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "16"=>{"comment"=>"", "id"=>"2263", "status"=>"0", "participant_id"=>"773"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"xxx", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44"}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>""}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:06:46', `perishable_token` = 'jB_hfaXojjFvw7jQaKBt', `last_request_at` = '2011-03-31 14:06:46' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.0ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mCoupon Columns (2.3ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 44) [0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m

NoMethodError (undefined method `price' for nil:NilClass):
  app/models/payment.rb:88:in `reciept_attributes='
  app/controllers/admin/attendants_controller.rb:44:in `create'
  app/controllers/admin/attendants_controller.rb:41:in `create'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (66.2ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:08:03) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:08:03', `perishable_token` = 'jHZHreuXi5B0Mi0bnQHh', `last_request_at` = '2011-03-31 14:08:03' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (2.9ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (30.1ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (3.1ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.5ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mBooking Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.1ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (216.8ms)
  [4;36;1mSession Load (0.8ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 754ms (View: 268, DB: 86) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:08:07) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:08:07) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:08:11) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "id"=>"2262", "status"=>"1", "participant_id"=>"774"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "16"=>{"comment"=>"", "id"=>"2263", "status"=>"0", "participant_id"=>"773"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"sss", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44", "value"=>"130"}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>""}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:08:11', `perishable_token` = 'LVLnizdzncwX_DULqqyU', `last_request_at` = '2011-03-31 14:08:11' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.1ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.2ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 44) [0m
  [4;36;1mGiftCertificate Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mParticipant Create (0.3ms)[0m   [0;1mINSERT INTO `participants` (`name`, `created_at`, `updated_at`, `phone`, `email`) VALUES('sss', '2011-03-31 14:08:11', '2011-03-31 14:08:11', NULL, NULL)[0m
  [4;35;1mAttendant Create (0.4ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 14:08:11', '2011-03-31 14:08:11', 206, 775, 1)[0m
  [4;36;1mBooking Create (0.4ms)[0m   [0;1mINSERT INTO `bookings` (`created_at`, `token`, `updated_at`, `booker_type`, `booker_id`, `participant_id`, `status`) VALUES('2011-03-31 14:08:11', 'bd56a5f8841940c08fd50b93b8f9ec11786f81ea', '2011-03-31 14:08:11', 'Session', 206, 775, 0)[0m
  [4;35;1mBooking Update (0.3ms)[0m   [0mUPDATE `bookings` SET `updated_at` = '2011-03-31 14:08:11', `created_at` = '2011-03-31 14:08:11', `participant_id` = 775, `booker_id` = 206, `booker_type` = 'Session', `token` = 'bd56a5f8841940c08fd50b93b8f9ec11786f81ea' WHERE `id` = 673[0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mPayment Create (0.4ms)[0m   [0;1mINSERT INTO `payments` (`name`, `created_at`, `token`, `reciept_id`, `updated_at`, `meta`, `value`, `note`, `item_id`, `reciept_type`, `email`, `item_type`) VALUES('sss', '2011-03-31 14:08:11', 'd97de080f1700ab15f091f8da40d523214c965b3', 44, '2011-03-31 14:08:11', NULL, 130, NULL, 673, 'Coupon', NULL, 'Booking')[0m
  [4;35;1mSQL (0.2ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/admin/klasser/206/narvarande
Completed in 512ms (DB: 21) | 302 Found [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:08:11) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:08:12', `perishable_token` = 'FAZqVPmVJMXF0m9RFSmo', `last_request_at` = '2011-03-31 14:08:12' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (2.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (2.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.7ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.6ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;35;1mParticipant Load (0.7ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mBooking Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.6ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.6ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (1.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (200.9ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 544ms (View: 245, DB: 58) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (7.5ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:08:18) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (4.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:08:19', `perishable_token` = 'xcE4rS4jhK0ddHqwpJcH', `last_request_at` = '2011-03-31 14:08:19' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mCoupon Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 44) [0m
  [4;35;1mBooking Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (1.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCash Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 70) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 670) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.6ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 69) [0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 570) [0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 669) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 667) [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 665) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 664) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mSession Load (12.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 587ms (View: 445, DB: 53) | 200 OK [http://localhost/admin/kvitton]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#edit (for 127.0.0.1 at 2011-03-31 16:08:22) [GET]
  Parameters: {"action"=>"edit", "id"=>"d97de080f1700ab15f091f8da40d523214c965b3", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:08:22', `perishable_token` = 'BH-jQU8R69xCpUZ8wkDg', `last_request_at` = '2011-03-31 14:08:22' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mPayment Load (0.7ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`token` = 'd97de080f1700ab15f091f8da40d523214c965b3') LIMIT 1[0m
Rendering template within layouts/application
Rendering admin/payments/edit
  [4;36;1mCoupon Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 44) [0m
  [4;36;1mCoupon Load (0.4ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mGiftCertificate Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/payments/_form (108.7ms)
Completed in 306ms (View: 97, DB: 30) | 200 OK [http://localhost/admin/kvitton/d97de080f1700ab15f091f8da40d523214c965b3/edit?show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:08:52) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing ApplicationController#index (for 127.0.0.1 at 2011-03-31 16:08:52) [GET]

ActionController::RoutingError (No route matches "/javascripts/jquery/plugins/autocomplete/indicator.gif" with {:method=>:get}):
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
  /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendering rescues/layout (not_found)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#create (for 127.0.0.1 at 2011-03-31 16:09:03) [POST]
  Parameters: {"commit"=>"Spara", "session"=>{"attendants_attributes"=>{"6"=>{"comment"=>"", "id"=>"2253", "status"=>"0", "participant_id"=>"516"}, "11"=>{"comment"=>"", "id"=>"2258", "status"=>"0", "participant_id"=>"639"}, "7"=>{"comment"=>"", "id"=>"2254", "status"=>"0", "participant_id"=>"613"}, "12"=>{"comment"=>"", "id"=>"2259", "status"=>"0", "participant_id"=>"686"}, "8"=>{"comment"=>"", "id"=>"2255", "status"=>"0", "participant_id"=>"621"}, "13"=>{"comment"=>"", "id"=>"2260", "status"=>"0", "participant_id"=>"699"}, "9"=>{"comment"=>"", "id"=>"2256", "status"=>"0", "participant_id"=>"625"}, "14"=>{"comment"=>"", "id"=>"2261", "status"=>"0", "participant_id"=>"772"}, "15"=>{"comment"=>"", "id"=>"2262", "status"=>"1", "participant_id"=>"774"}, "0"=>{"comment"=>"", "id"=>"2247", "status"=>"0", "participant_id"=>"616"}, "16"=>{"comment"=>"", "id"=>"2263", "status"=>"0", "participant_id"=>"773"}, "1"=>{"comment"=>"", "id"=>"2248", "status"=>"0", "participant_id"=>"617"}, "17"=>{"comment"=>"", "id"=>"2264", "status"=>"1", "participant_id"=>"775"}, "2"=>{"comment"=>"", "id"=>"2249", "status"=>"0", "participant_id"=>"497"}, "3"=>{"comment"=>"", "id"=>"2250", "status"=>"0", "participant_id"=>"508"}, "4"=>{"comment"=>"", "id"=>"2251", "status"=>"0", "participant_id"=>"514"}, "10"=>{"comment"=>"", "id"=>"2257", "status"=>"0", "participant_id"=>"628"}, "5"=>{"comment"=>"", "id"=>"2252", "status"=>"0", "participant_id"=>"515"}}, "bookings_attributes"=>{"0"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"xxx", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44", "value"=>"130"}, "free"=>{"note"=>""}, "type"=>"none", "cash"=>{"gross"=>""}}}}, "1"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"qqqq", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"44", "value"=>"130"}, "free"=>{"note"=>""}, "type"=>"cash", "cash"=>{"gross"=>"1234"}}}}, "2"=>{"disable_validation"=>"true", "participant_attributes"=>{"name"=>"aaa", "attendants_attributes"=>{"0"=>{"comment"=>"", "session_id"=>"206", "status"=>"1"}}}, "payment_attributes"=>{"reciept_attributes"=>{"coupon"=>{"id"=>"45", "value"=>"130"}, "free"=>{"note"=>""}, "type"=>"coupon", "cash"=>{"gross"=>""}}}}}}, "action"=>"create", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (35.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:09:04', `perishable_token` = 'peElY1in4-_E-YXUUvjx', `last_request_at` = '2011-03-31 14:09:04' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mAttendant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.3ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mPayment Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mCash Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `cashes`[0m
  [4;36;1mCoupon Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (2.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 45) [0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mParticipant Create (0.5ms)[0m   [0;1mINSERT INTO `participants` (`name`, `created_at`, `updated_at`, `phone`, `email`) VALUES('xxx', '2011-03-31 14:09:04', '2011-03-31 14:09:04', NULL, NULL)[0m
  [4;35;1mAttendant Create (0.4ms)[0m   [0mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 14:09:04', '2011-03-31 14:09:04', 206, 776, 1)[0m
  [4;36;1mBooking Create (0.5ms)[0m   [0;1mINSERT INTO `bookings` (`created_at`, `token`, `updated_at`, `booker_type`, `booker_id`, `participant_id`, `status`) VALUES('2011-03-31 14:09:04', '27538703fb83cef0c0cca5b90aae8113b0aa32d2', '2011-03-31 14:09:04', 'Session', 206, 776, 0)[0m
  [4;35;1mBooking Update (0.3ms)[0m   [0mUPDATE `bookings` SET `updated_at` = '2011-03-31 14:09:04', `created_at` = '2011-03-31 14:09:04', `participant_id` = 776, `booker_id` = 206, `booker_type` = 'Session', `token` = '27538703fb83cef0c0cca5b90aae8113b0aa32d2' WHERE `id` = 674[0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mPayment Create (0.4ms)[0m   [0;1mINSERT INTO `payments` (`name`, `created_at`, `token`, `reciept_id`, `updated_at`, `meta`, `value`, `note`, `item_id`, `reciept_type`, `email`, `item_type`) VALUES('xxx', '2011-03-31 14:09:04', '1a292d616848239ab0f1e84f58e52b7bfd145d92', NULL, '2011-03-31 14:09:04', NULL, 0, NULL, 674, NULL, NULL, 'Booking')[0m
  [4;35;1mParticipant Create (0.3ms)[0m   [0mINSERT INTO `participants` (`name`, `created_at`, `updated_at`, `phone`, `email`) VALUES('qqqq', '2011-03-31 14:09:04', '2011-03-31 14:09:04', NULL, NULL)[0m
  [4;36;1mAttendant Create (0.2ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 14:09:04', '2011-03-31 14:09:04', 206, 777, 1)[0m
  [4;35;1mBooking Create (0.3ms)[0m   [0mINSERT INTO `bookings` (`created_at`, `token`, `updated_at`, `booker_type`, `booker_id`, `participant_id`, `status`) VALUES('2011-03-31 14:09:04', 'c74d89ea85912e7db553076481673b8b182cbe13', '2011-03-31 14:09:04', 'Session', 206, 777, 0)[0m
  [4;36;1mBooking Update (0.3ms)[0m   [0;1mUPDATE `bookings` SET `updated_at` = '2011-03-31 14:09:04', `created_at` = '2011-03-31 14:09:04', `participant_id` = 777, `booker_id` = 206, `booker_type` = 'Session', `token` = 'c74d89ea85912e7db553076481673b8b182cbe13' WHERE `id` = 675[0m
  [4;35;1mCash Create (0.4ms)[0m   [0mINSERT INTO `cashes` (`created_at`, `updated_at`, `gross`) VALUES('2011-03-31 14:09:04', '2011-03-31 14:09:04', 1234)[0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;36;1mPayment Create (0.4ms)[0m   [0;1mINSERT INTO `payments` (`name`, `created_at`, `token`, `reciept_id`, `updated_at`, `meta`, `value`, `note`, `item_id`, `reciept_type`, `email`, `item_type`) VALUES('qqqq', '2011-03-31 14:09:04', '5c6554efd3f39f19264acf5e27fd08bb98a08e1a', 71, '2011-03-31 14:09:04', NULL, 1234, NULL, 675, 'Cash', NULL, 'Booking')[0m
  [4;35;1mParticipant Create (0.3ms)[0m   [0mINSERT INTO `participants` (`name`, `created_at`, `updated_at`, `phone`, `email`) VALUES('aaa', '2011-03-31 14:09:04', '2011-03-31 14:09:04', NULL, NULL)[0m
  [4;36;1mAttendant Create (0.4ms)[0m   [0;1mINSERT INTO `attendants` (`comment`, `created_at`, `updated_at`, `session_id`, `participant_id`, `status`) VALUES('', '2011-03-31 14:09:04', '2011-03-31 14:09:04', 206, 778, 1)[0m
  [4;35;1mBooking Create (0.3ms)[0m   [0mINSERT INTO `bookings` (`created_at`, `token`, `updated_at`, `booker_type`, `booker_id`, `participant_id`, `status`) VALUES('2011-03-31 14:09:04', 'b44afed96a1b57379952a339528c36691b652474', '2011-03-31 14:09:04', 'Session', 206, 778, 0)[0m
  [4;36;1mBooking Update (0.4ms)[0m   [0;1mUPDATE `bookings` SET `updated_at` = '2011-03-31 14:09:04', `created_at` = '2011-03-31 14:09:04', `participant_id` = 778, `booker_id` = 206, `booker_type` = 'Session', `token` = 'b44afed96a1b57379952a339528c36691b652474' WHERE `id` = 676[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;35;1mPayment Create (0.2ms)[0m   [0mINSERT INTO `payments` (`name`, `created_at`, `token`, `reciept_id`, `updated_at`, `meta`, `value`, `note`, `item_id`, `reciept_type`, `email`, `item_type`) VALUES('aaa', '2011-03-31 14:09:04', '95d8fb7c639eeee470ee5b3e805afcbf1e8462a4', 45, '2011-03-31 14:09:04', NULL, 130, NULL, 676, 'Coupon', NULL, 'Booking')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/admin/klasser/206/narvarande
Completed in 720ms (DB: 63) | 302 Found [http://localhost/admin/klasser/206/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:09:04) [GET]
  Parameters: {"action"=>"index", "session_id"=>"206", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (3.3ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:09:04', `perishable_token` = 'lLo-QTwecft-JD4mtpjz', `last_request_at` = '2011-03-31 14:09:04' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (2.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.6ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.7ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.6ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 206) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.7ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;36;1mBooking Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 773) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 774) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 775) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 776) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 777) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 778) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (6.6ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.8ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (2.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (201.1ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 526ms (View: 250, DB: 59) | 200 OK [http://localhost/admin/klasser/206/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:09:11) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:09:11', `perishable_token` = 'iSbvWRD2FCGm49DgkYb3', `last_request_at` = '2011-03-31 14:09:11' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (0.5ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 45) [0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 676) [0m
  [4;36;1mSession Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (1.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCourse Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (1.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.5ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 71) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 675) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 674) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Load (1.6ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 44) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 673) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 70) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 672) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCoupon Load (0.3ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 206) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 670) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Load (0.3ms)[0m   [0;1mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 69) [0m
  [4;35;1mCoupon Load (0.3ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 570) [0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.7ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mGiftCertificateType Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 669) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 361ms (View: 244, DB: 29) | 200 OK [http://localhost/admin/kvitton]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:09:56) [GET]
  Parameters: {"action"=>"index", "session_id"=>"259", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:09:57', `perishable_token` = 'MmGiESURNlfbS5NQxumD', `last_request_at` = '2011-03-31 14:09:57' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 259) [0m
  [4;36;1mCourse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.6ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mBooking Load (0.8ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 259 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.5ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 25 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.0ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 259) ORDER BY sessions.starts_at[0m
  [4;36;1mBooking Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mParticipant Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (2.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 618) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 501) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 509) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 510) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 622) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 627) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 638) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 645) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 666) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 668) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.1ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (197.1ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-27 16:45:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-27 16:45:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-27 16:45:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-27 16:45:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 468ms (View: 212, DB: 56) | 200 OK [http://localhost/admin/klasser/259/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:09:59) [GET]
  Parameters: {"action"=>"index", "session_id"=>"241", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:09:59', `perishable_token` = 'xff-Asy21khYz9x3Zrju', `last_request_at` = '2011-03-31 14:09:59' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 241) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.5ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 241 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 24 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.3ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 241) ORDER BY sessions.starts_at[0m
  [4;35;1mBooking Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 499) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 502) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 503) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 505) [0m
  [4;35;1mParticipant Load (0.7ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 506) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 511) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 513) [0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 619) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 634) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 624) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 636) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 685) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;35;1mParticipant Load (6.8ms)[0m   [0mSELECT distinct(participants.name) FROM `participants` [0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` [0m
  [4;35;1mCoupon Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mGiftCertificate Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.9ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mGiftCertificateType Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mPayment Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.9ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCouponType Load (0.2ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (200.1ms)
  [4;35;1mSession Load (0.7ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-27 15:00:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-03-27 15:00:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-27 15:00:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-03-27 15:00:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 506ms (View: 221, DB: 53) | 200 OK [http://localhost/admin/klasser/241/narvarande]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::SessionsController#index (for 127.0.0.1 at 2011-03-31 16:10:02) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/sessions", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (1.0ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:10:02', `perishable_token` = 'VYJ4RNc9gGX0y7ax4fdC', `last_request_at` = '2011-03-31 14:10:02' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Load (1.9ms)[0m   [0;1mSELECT * FROM `sessions` ORDER BY starts_at[0m
Rendering template within layouts/application
Rendering admin/sessions/index
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mBooking Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mSQL (0.8ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 223 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 23 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 223)) AND (`attendants`.session_id = 223)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 241 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 24 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 241)) AND (`attendants`.session_id = 241)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 259 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 25 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 259)) AND (`attendants`.session_id = 259)) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 206 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 206)) AND (`attendants`.session_id = 206)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 224 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 23 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 224)) AND (`attendants`.session_id = 224)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 242 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 24 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.4ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 242)) AND (`attendants`.session_id = 242)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 260 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 25 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 260)) AND (`attendants`.session_id = 260)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 207 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 207)) AND (`attendants`.session_id = 207)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 225 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 23 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 225)) AND (`attendants`.session_id = 225)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 243 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 24 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 243)) AND (`attendants`.session_id = 243)) [0m
Completed in 305ms (View: 198, DB: 32) | 200 OK [http://localhost/admin/klasser]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::SessionsController#index (for 127.0.0.1 at 2011-03-31 16:10:07) [GET]
  Parameters: {"action"=>"index", "page"=>"19", "controller"=>"admin/sessions", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:10:07', `perishable_token` = '54LpMHYGpDKhgHKZsKVI', `last_request_at` = '2011-03-31 14:10:07' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Load (1.9ms)[0m   [0;1mSELECT * FROM `sessions` ORDER BY starts_at[0m
Rendering template within layouts/application
Rendering admin/sessions/index
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mBooking Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 201 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Columns (2.2ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mSQL (32.2ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 201)) AND (`attendants`.session_id = 201)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 219 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 23 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 219)) AND (`attendants`.session_id = 219)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 273 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 26 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 273)) AND (`attendants`.session_id = 273)) [0m
  [4;35;1mSQL (1.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 237 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 24 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 237)) AND (`attendants`.session_id = 237)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 255 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 25 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 255)) AND (`attendants`.session_id = 255)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 202 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 202)) AND (`attendants`.session_id = 202)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 220 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 23 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 220)) AND (`attendants`.session_id = 220)) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 274 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 26 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 274)) AND (`attendants`.session_id = 274)) [0m
  [4;35;1mSQL (0.7ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 238 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 24 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 238)) AND (`attendants`.session_id = 238)) [0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 256 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `bookings` WHERE (`bookings`.booker_id = 25 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mSQL (1.0ms)[0m   [0;1mSELECT count(DISTINCT `attendants`.id) AS count_all FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (((attendants.status = 1) AND (`attendants`.session_id = 256)) AND (`attendants`.session_id = 256)) [0m
Completed in 427ms (View: 187, DB: 64) | 200 OK [http://localhost/admin/klasser?page=19]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::SessionsController#show (for 127.0.0.1 at 2011-03-31 16:10:10) [GET]
  Parameters: {"action"=>"show", "id"=>"202", "controller"=>"admin/sessions", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:10:10', `perishable_token` = '4Ru29nHoUj_uP79zoKuw', `last_request_at` = '2011-03-31 14:10:10' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.6ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 202) [0m
Rendering template within layouts/application
Rendering admin/sessions/show
  [4;36;1mCourse Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.9ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (1.0ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mBooking Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mParticipant Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.8ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mPayment Load (0.9ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 612 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mBankgiro Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `bankgiros`[0m
  [4;35;1mBankgiro Load (0.3ms)[0m   [0mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 80) [0m
  [4;36;1mAttendant Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.4ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 202) AND ((attendants.status = 1) AND (`attendants`.session_id = 202)) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Load (0.5ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 613 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (0.5ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 68) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 493 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mFree Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `frees`[0m
  [4;35;1mFree Load (0.5ms)[0m   [0mSELECT * FROM `frees` WHERE (`frees`.`id` = 320) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 504 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mBankgiro Load (0.4ms)[0m   [0;1mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 85) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mPayment Load (0.5ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 510 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mFree Load (0.2ms)[0m   [0mSELECT * FROM `frees` WHERE (`frees`.`id` = 345) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 511 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 512 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 609 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mFree Load (0.2ms)[0m   [0;1mSELECT * FROM `frees` WHERE (`frees`.`id` = 344) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 617 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mPaypalReciept Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `paypal_reciepts`[0m
  [4;36;1mPaypalReciept Load (0.8ms)[0m   [0;1mSELECT * FROM `paypal_reciepts` WHERE (`paypal_reciepts`.`id` = 52) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;36;1mPayment Load (0.6ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 621 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mFree Load (0.2ms)[0m   [0mSELECT * FROM `frees` WHERE (`frees`.`id` = 341) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 624 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mFree Load (0.2ms)[0m   [0;1mSELECT * FROM `frees` WHERE (`frees`.`id` = 338) [0m
  [4;35;1mParticipant Load (0.8ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;36;1mPayment Load (0.6ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.item_id = 635 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;35;1mBankgiro Load (0.4ms)[0m   [0mSELECT * FROM `bankgiros` WHERE (`bankgiros`.`id` = 76) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;35;1mPayment Load (1.2ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 668 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 669 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
  [4;35;1mPayment Load (0.6ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 670 AND `payments`.item_type = 'Booking') LIMIT 1[0m
  [4;36;1mBooking Load (0.6ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 202 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 645ms (View: 420, DB: 42) | 200 OK [http://localhost/admin/klasser/202]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:10:14) [GET]
  Parameters: {"action"=>"index", "session_id"=>"202", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:10:14', `perishable_token` = '2kmzu7wPHTTd2A4nJrrn', `last_request_at` = '2011-03-31 14:10:14' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSession Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 202) [0m
  [4;36;1mCourse Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 202 AND `bookings`.booker_type = 'Session') [0m
  [4;35;1mBooking Load (0.4ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 22 AND `bookings`.booker_type = 'Course') [0m
  [4;36;1mAttendant Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `attendants`[0m
  [4;35;1mAttendant Load Including Associations (2.3ms)[0m   [0mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 202) ORDER BY sessions.starts_at[0m
  [4;36;1mParticipant Columns (3.4ms)[0m   [0;1mSHOW FIELDS FROM `participants`[0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mParticipant Load (1.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 769) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 770) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 771) [0m
  [4;36;1mBooking Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 616) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 617) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 497) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 508) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 514) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 515) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 516) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 613) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 621) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 625) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 628) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 639) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 686) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 699) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 772) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.7ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.6ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (202.3ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-02-28 18:30:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 538ms (View: 247, DB: 56) | 200 OK [http://localhost/admin/klasser/202/narvarande]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::AttendantsController#index (for 127.0.0.1 at 2011-03-31 16:10:20) [GET]
  Parameters: {"action"=>"index", "session_id"=>"255", "controller"=>"admin/attendants", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:10:20', `perishable_token` = '1LC8vXVfhpK3mup0PHVC', `last_request_at` = '2011-03-31 14:10:20' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 255) [0m
  [4;35;1mCourse Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.7ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.6ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 255 AND `bookings`.booker_type = 'Session') [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.booker_id = 25 AND `bookings`.booker_type = 'Course') [0m
  [4;35;1mAttendant Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `attendants`[0m
  [4;36;1mAttendant Load Including Associations (2.5ms)[0m   [0;1mSELECT `attendants`.`id` AS t0_r0, `attendants`.`participant_id` AS t0_r1, `attendants`.`session_id` AS t0_r2, `attendants`.`status` AS t0_r3, `attendants`.`comment` AS t0_r4, `attendants`.`created_at` AS t0_r5, `attendants`.`updated_at` AS t0_r6, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `attendants` LEFT OUTER JOIN `sessions` ON `sessions`.id = `attendants`.session_id WHERE (`attendants`.session_id = 255) ORDER BY sessions.starts_at[0m
  [4;35;1mParticipant Columns (2.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.3ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 618) [0m
  [4;35;1mParticipant Load (0.3ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 501) [0m
  [4;36;1mParticipant Load (0.6ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 509) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 510) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 622) [0m
  [4;35;1mParticipant Load (0.2ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 627) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 638) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 645) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 666) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 668) [0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 766) [0m
  [4;35;1mParticipant Load (0.1ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 767) [0m
  [4;36;1mParticipant Load (0.1ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 768) [0m
  [4;35;1mBooking Columns (2.2ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 618) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 501) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 509) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 510) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 622) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 627) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 638) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 645) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 666) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `participants` WHERE (`participants`.`id` = 668) [0m
Rendering template within layouts/application
Rendering /admin/attendants/edit
  [4;36;1mParticipant Load (7.7ms)[0m   [0;1mSELECT distinct(participants.name) FROM `participants` [0m
  [4;35;1mCoupon Load (0.7ms)[0m   [0mSELECT * FROM `coupons` [0m
  [4;36;1mCoupon Columns (2.1ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mGiftCertificate Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCouponType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mCouponType Load (0.4ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mGiftCertificateType Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.9ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 43 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 5) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (1.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (1.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.7ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.6ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;36;1mSQL (0.8ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 44 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 45 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 46 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 48 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 49 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 50 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 51 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 52 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 53 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 54 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 64 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 56 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 60 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 61 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 58 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 59 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 62 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 63 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 272 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 273 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 274 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 275 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 276 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 167 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 168 AND `payments`.reciept_type = 'Coupon') [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 301 AND `payments`.reciept_type = 'Coupon') [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` WHERE (`payments`.reciept_id = 570 AND `payments`.reciept_type = 'Coupon') [0m
Rendered admin/attendants/_new_attendant (237.2ms)
  [4;36;1mSession Load (0.7ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-02-27 16:45:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) < timestamp('2011-02-27 16:45:00') AND status = 1) ORDER BY starts_at DESC LIMIT 1[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-02-27 16:45:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (timestamp(starts_at) > timestamp('2011-02-27 16:45:00') AND status = 1) ORDER BY starts_at LIMIT 1[0m
Completed in 546ms (View: 271, DB: 60) | 200 OK [http://localhost/admin/klasser/255/narvarande]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:20:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;36;1mUser Columns (2.6ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:20:48', `perishable_token` = '5bO9yeg42Pdoqt277GtZ', `last_request_at` = '2011-03-31 14:20:48' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.4ms)[0m   [0mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;36;1mPayment Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSQL (0.6ms)[0m   [0mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;36;1mBooking Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `bookings`[0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;36;1mSession Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 255) [0m
  [4;36;1mCourse Columns (2.4ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 670) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCash Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `cashes`[0m
  [4;35;1mCash Load (1.1ms)[0m   [0mSELECT * FROM `cashes` WHERE (`cashes`.`id` = 69) [0m
  [4;36;1mCoupon Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCoupon Load (1.8ms)[0m   [0mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 570) [0m
  [4;36;1mGiftCertificate Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupons`[0m
  [4;35;1mCouponType Columns (2.6ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mCouponType Load (0.5ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 4) [0m
  [4;35;1mGiftCertificateType Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupon_types`[0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 669) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 668) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 22) AND ((sessions.status = 1) AND (`sessions`.course_id = 22)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 22) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 667) [0m
  [4;35;1mCourse Load (0.5ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 24) AND ((sessions.status = 1) AND (`sessions`.course_id = 24)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 24) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 665) [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 23) AND ((sessions.status = 1) AND (`sessions`.course_id = 23)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 23) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 664) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mCoupon Load (0.5ms)[0m   [0;1mSELECT * FROM `coupons` WHERE (`coupons`.`id` = 301) [0m
  [4;35;1mCouponType Load (0.3ms)[0m   [0mSELECT * FROM `coupon_types` WHERE (`coupon_types`.`id` = 3) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 662) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.course_id = 25) AND ((sessions.status = 1) AND (`sessions`.course_id = 25)) ORDER BY sessions.starts_at ASC LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mPayment Load (1.0ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 548ms (View: 254, DB: 34) | 200 OK [http://localhost/admin/kvitton]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing PaymentsController#show (for 127.0.0.1 at 2011-03-31 16:21:02) [GET]
  Parameters: {"action"=>"show", "id"=>"f6c6d8dddd9bf146273e22ddcd6ecdfc6226d787", "controller"=>"payments", "locale"=>"sv-SE"}
  [4;35;1mPayment Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`token` = 'f6c6d8dddd9bf146273e22ddcd6ecdfc6226d787') LIMIT 1[0m
  [4;35;1mBooking Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (1.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 671) [0m
  [4;35;1mSession Columns (2.9ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.3ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 255) [0m
Rendering template within layouts/application
Rendering /Users/jhoglund/Projects/Nava/application/app/views/sessions/reciept.html.erb
Rendered sessions/_house_rules (0.1ms)
  [4;35;1mParticipant Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `participants`[0m
  [4;36;1mParticipant Load (0.2ms)[0m   [0;1mSELECT * FROM `participants` WHERE (`participants`.`id` = 766) [0m
  [4;35;1mCourse Columns (2.1ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mPayment Load (0.8ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.item_id = 671 AND `payments`.item_type = 'Booking') LIMIT 1[0m
DEPRECATION WARNING: The binding argument of #concat is no longer needed.  Please remove it from your views and helpers.. (called from paypal_form_tag at /Users/jhoglund/Projects/Nava/application/vendor/plugins/paypal/lib/helper.rb:26)
Rendered paypal/_button (30.3ms)
  [4;36;1mUser Columns (1.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2011-03-31 14:21:02', `perishable_token` = 'Z-z09-5Ap4pWNhH_DY3W', `last_request_at` = '2011-03-31 14:21:02' WHERE `id` = 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Completed in 457ms (View: 407, DB: 16) | 200 OK [http://localhost/kvitton/f6c6d8dddd9bf146273e22ddcd6ecdfc6226d787]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:24:07) [GET]
  Parameters: {"action"=>"index", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (3.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:24:07', `perishable_token` = 'xZeF_RrbJDB1JBNeDdB6', `last_request_at` = '2011-03-31 14:24:07' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 0, 10[0m
  [4;35;1mPayment Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mBooking Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 754) [0m
  [4;35;1mSession Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 273) [0m
  [4;35;1mCourse Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (0.6ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 753) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 273) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 752) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 273) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 751) [0m
  [4;36;1mSession Load (0.2ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 272) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 750) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 272) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 749) [0m
  [4;36;1mSession Load (0.1ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 748) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 271) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 747) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 271) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 746) [0m
  [4;35;1mSession Load (0.3ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 270) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.2ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 745) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 394ms (View: 161, DB: 16) | 200 OK [http://localhost/admin/kvitton]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:24:15) [GET]
  Parameters: {"action"=>"index", "page"=>"2", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:24:16', `perishable_token` = 'MbGUmdDdo-nidIh_u63p', `last_request_at` = '2011-03-31 14:24:16' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.4ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 10, 10[0m
  [4;35;1mPayment Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (2.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mBooking Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 744) [0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 270) [0m
  [4;35;1mCourse Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.4ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 743) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 270) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 742) [0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 269) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 741) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 269) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 740) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 269) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 739) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 269) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 738) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 269) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 737) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 269) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 26) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 736) [0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 255) [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 735) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 255) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mPayment Load (0.8ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 289ms (View: 198, DB: 18) | 200 OK [http://localhost/admin/kvitton?page=2&show_payment=paid_or_not]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing Admin::PaymentsController#index (for 127.0.0.1 at 2011-03-31 16:24:20) [GET]
  Parameters: {"action"=>"index", "page"=>"3", "show_payment"=>"paid_or_not", "controller"=>"admin/payments", "locale"=>"sv-SE"}
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.3ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2011-03-31 14:24:20', `perishable_token` = 'errH6IMBDoa5mCdwtBte', `last_request_at` = '2011-03-31 14:24:20' WHERE `id` = 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.5ms)[0m   [0;1mSELECT * FROM `payments` ORDER BY id DESC LIMIT 20, 10[0m
  [4;35;1mPayment Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `payments` [0m
Rendering template within layouts/application
Rendering admin/payments/index
  [4;35;1mBooking Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `bookings`[0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 734) [0m
  [4;35;1mSession Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 254) [0m
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mCourse Load (1.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 733) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 254) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mBooking Load (0.3ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 732) [0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 253) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 731) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 253) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mBooking Load (0.2ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 730) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 253) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 729) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 253) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mBooking Load (0.4ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 728) [0m
  [4;35;1mSession Load (0.2ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 252) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 727) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 252) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mBooking Load (0.5ms)[0m   [0;1mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 726) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 252) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;35;1mBooking Load (0.3ms)[0m   [0mSELECT * FROM `bookings` WHERE (`bookings`.`id` = 725) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (`sessions`.`id` = 252) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`id` = 25) [0m
  [4;36;1mPayment Load (0.7ms)[0m   [0;1mSELECT sum(value) AS sum FROM `payments` [0m
Completed in 389ms (View: 191, DB: 16) | 200 OK [http://localhost/admin/kvitton?page=3&show_payment=paid_or_not]
** [Hoptoad] Notifier 2.0.18 ready to catch errors
Translating routes (default locale: sv-SE)
** [Hoptoad] Notifier 2.0.18 ready to catch errors
Translating routes (default locale: sv-SE)
** [Hoptoad] Notifier 2.0.18 ready to catch errors
Translating routes (default locale: sv-SE)
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:49:58) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:49:54+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;35;1mCourse Columns (2.0ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.4ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:49:58+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:49:58+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;36;1mCourse Load Including Associations (3.0ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:49:58+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
ERROR: compiling _run_erb_app47views47sessions47_calendar46html46erb_locals_calendar_object RAISED compile error
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:35: syntax error, unexpected ')', expecting '}'
    :title => 'Sommarklass'), 
                            ^
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:36: syntax error, unexpected ',', expecting kEND
    :start => starts_at.strftime('%Y-%m-%d %H:%M:%S'), 
                                                      ^
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:37: syntax error, unexpected ',', expecting kEND
    :end => (starts_at + (90*60)).strftime('%Y-%m-%d %H:%M:%S'), 
                                                                ^
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:39: syntax error, unexpected '}', expecting kEND
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:72: syntax error, unexpected kENSURE, expecting kEND
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:74: syntax error, unexpected $end, expecting kEND
Function body:           def _run_erb_app47views47sessions47_calendar46html46erb_locals_calendar_object(local_assigns)
            old_output_buffer = output_buffer;calendar = local_assigns[:calendar];object = local_assigns[:object];;@output_buffer = '';  __in_erb_template=true ;  include_javascript 'jquery/plugins/fullcalendar-1.4.7/fullcalendar.js' ; @output_buffer.concat "\n"
;  include_stylesheet '/javascripts/jquery/plugins/fullcalendar-1.4.7/fullcalendar.css' ; @output_buffer.concat "\n"
;  content_for :javascript do ; @output_buffer.concat "\n//  $(document).ready(function() {\n//      $('#calendar').fullCalendar({\n//        buttonText:{\n//            prev:     '&nbsp;&#9668;&nbsp;',  // left triangle\n//            next:     '&nbsp;&#9658;&nbsp;',  // right triangle\n//            today:    'idag',\n//            month:    'm\303\245nad',\n//            week:     'vecka',\n//            day:      'dag'\n//        },\n//        header:{\n//            left:   'title',\n//            center: '',\n//            right:  'prev,next'\n//        },\n//        firstDay:1,\n//        monthNames:['January', 'February', 'Mars', 'April', 'Maj', 'Juni', 'Juli', 'Augusti', 'September', 'Oktober', 'November', 'December'],\n//        monthNamesShort:['Jan', 'Feb', 'Mar', 'Apr', 'Maj', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dec'],\n//        dayNames:['S\303\266ndag','M\303\245ndag','Tisdag','Onsdag','Torsdag','Fredag','L\303\266rdag'],\n//        dayNamesShort:['S\303\266n','M\303\245n','Tis','Ons','Tor','Fre','L\303\266r'],\n//        events: "




















; @output_buffer.concat(( @sessions.map(&:to_fullcalendar).to_json ).to_s); @output_buffer.concat ",\n//        eventRender: function(event, element) {\n//            element.attr({\n//                title: event.tooltip\n//            });\n//        }\n//      })\n//  });\n"







;  summer_events = [1306773000, 1307377800, 1307982600, 1308587400, 1309192200, 1309797000, 1310401800, 1311006600, 1311611400, 1312216200, 1312821000, 1306992600, 1307597400, 1308202200, 1308807000, 1309411800, 1310016600, 1310621400, 1311226200, 1311831000, 1312435800, 1313040600].collect do |i|
  starts_at = Time.at(i)
  {
    :title => 'Sommarklass'), 
    :start => starts_at.strftime('%Y-%m-%d %H:%M:%S'), 
    :end => (starts_at + (90*60)).strftime('%Y-%m-%d %H:%M:%S'), 
    :className => "calendar-session-default"
  }
end ; @output_buffer.concat "\n$(document).ready(function() {\n    $('#calendar').fullCalendar({\n      buttonText:{\n          prev:     '&nbsp;&#9668;&nbsp;',  // left triangle\n          next:     '&nbsp;&#9658;&nbsp;',  // right triangle\n          today:    'idag',\n          month:    'm\303\245nad',\n          week:     'vecka',\n          day:      'dag'\n      },\n      header:{\n          left:   'title',\n          center: '',\n          right:  'prev,next'\n      },\n      firstDay:1,\n      monthNames:['January', 'February', 'Mars', 'April', 'Maj', 'Juni', 'Juli', 'Augusti', 'September', 'Oktober', 'November', 'December'],\n      monthNamesShort:['Jan', 'Feb', 'Mar', 'Apr', 'Maj', 'Jun', 'Jul', 'Aug', 'Sep', 'Okt', 'Nov', 'Dec'],\n      dayNames:['S\303\266ndag','M\303\245ndag','Tisdag','Onsdag','Torsdag','Fredag','L\303\266rdag'],\n      dayNamesShort:['S\303\266n','M\303\245n','Tis','Ons','Tor','Fre','L\303\266r'],\n      events: "




















; @output_buffer.concat(( summer_events.to_json ).to_s); @output_buffer.concat ",\n      eventRender: function(event, element) {\n          element.attr({\n              title: event.tooltip\n          });\n      }\n    })\n});\n\n"








;  end ; @output_buffer.concat "\n<a name=\"schema\"><div id=\"calendar\"></div></a>"
; @output_buffer
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:74:in `compile!'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:61:in `compile'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:28:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:20:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:26:in `benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:19:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable_partial.rb:44:in `render_partial'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/partials.rb:184:in `render_partial'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:267:in `render'
/Users/jhoglund/Projects/Nava/application/app/views/sessions/index.html.erb:119:in `_run_erb_app47views47sessions47index46html46erb'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:34:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:306:in `with_template'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/renderable.rb:30:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/template.rb:205:in `render_template'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:265:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:348:in `_render_with_layout'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_view/base.rb:262:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:1250:in `render_for_file'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:951:in `render_without_benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render_without_wicked_pdf'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:51:in `render_without_wicked_pdf'
/Users/jhoglund/Projects/Nava/application/vendor/plugins/wicked_pdf/lib/pdf_helper.rb:15:in `render'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:135:in `custom'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:179:in `respond'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `each'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:173:in `respond'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/mime_responds.rb:107:in `respond_to'
/Users/jhoglund/Projects/Nava/application/app/controllers/sessions_controller.rb:12:in `index'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:1331:in `perform_action_without_filters'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/filters.rb:617:in `call_filters'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/benchmark.rb:308:in `realtime'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activesupport-2.3.5/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/flash.rb:146:in `perform_action'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `send'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:532:in `process_without_filters'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/filters.rb:606:in `process'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:391:in `process'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/base.rb:386:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/routing/route_set.rb:437:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:121:in `_call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:29:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:9:in `cache'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/query_cache.rb:28:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/activerecord-2.3.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/string_coercion.rb:25:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/head.rb:9:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/methodoverride.rb:24:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/params_parser.rb:15:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/session/cookie_store.rb:93:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/failsafe.rb:26:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/lock.rb:11:in `synchronize'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/lock.rb:11:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:114:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/reloader.rb:34:in `run'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/actionpack-2.3.5/lib/action_controller/dispatcher.rb:108:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rails-2.3.5/lib/rails/rack/static.rb:31:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/urlmap.rb:46:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `each'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/urlmap.rb:40:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rails-2.3.5/lib/rails/rack/log_tailer.rb:17:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/content_length.rb:13:in `call'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/handler/webrick.rb:50:in `service'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rack-1.0.1/lib/rack/handler/webrick.rb:14:in `run'
/Users/jhoglund/.rvm/gems/ruby-1.8.7-p330@nava/gems/rails-2.3.5/lib/commands/server.rb:111
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `gem_original_require'
/Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/site_ruby/1.8/rubygems/custom_require.rb:29:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:35: syntax error, unexpected ')', expecting '}'
    :title => 'Sommarklass'), 
                            ^
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:36: syntax error, unexpected ',', expecting kEND
    :start => starts_at.strftime('%Y-%m-%d %H:%M:%S'), 
                                                      ^
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:37: syntax error, unexpected ',', expecting kEND
    :end => (starts_at + (90*60)).strftime('%Y-%m-%d %H:%M:%S'), 
                                                                ^
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:39: syntax error, unexpected '}', expecting kEND
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:72: syntax error, unexpected kENSURE, expecting kEND
/Users/jhoglund/Projects/Nava/application/app/views/sessions/_calendar.html.erb:74: syntax error, unexpected $end, expecting kEND) on line #35 of app/views/sessions/_calendar.html.erb:
32: <% summer_events = [1306773000, 1307377800, 1307982600, 1308587400, 1309192200, 1309797000, 1310401800, 1311006600, 1311611400, 1312216200, 1312821000, 1306992600, 1307597400, 1308202200, 1308807000, 1309411800, 1310016600, 1310621400, 1311226200, 1311831000, 1312435800, 1313040600].collect do |i|
33:   starts_at = Time.at(i)
34:   {
35:     :title => 'Sommarklass'), 
36:     :start => starts_at.strftime('%Y-%m-%d %H:%M:%S'), 
37:     :end => (starts_at + (90*60)).strftime('%Y-%m-%d %H:%M:%S'), 
38:     :className => "calendar-session-default"

    app/views/sessions/_calendar.html.erb:74:in `compile!'
    app/views/sessions/index.html.erb:119
    app/controllers/sessions_controller.rb:12:in `index'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:104:in `service'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/httpserver.rb:65:in `run'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:173:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:162:in `start_thread'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:95:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `each'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:92:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:23:in `start'
    /Users/jhoglund/.rvm/rubies/ruby-1.8.7-p330/lib/ruby/1.8/webrick/server.rb:82:in `start'

Rendered rescues/_trace (164.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:50:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:50:30+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;36;1mCourse Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mSession Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mCourse Load Including Associations (1.6ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:50:30+02:00') [0m
  [4;35;1mCourse Load Including Associations (0.5ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:50:30+02:00') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;35;1mCourse Load Including Associations (2.8ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:50:30+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (5.9ms)
  [4;36;1mUser Columns (31.2ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 258ms (View: 173, DB: 40) | 200 OK [http://localhost/klasser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:50:55) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:50:55+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;35;1mCourse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.4ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:50:55+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:50:55+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;36;1mCourse Load Including Associations (2.7ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:50:55+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (5.2ms)
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 226ms (View: 72, DB: 10) | 200 OK [http://localhost/klasser]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:55:03) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:55:03+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;36;1mCourse Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mSession Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mCourse Load Including Associations (1.8ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:55:03+02:00') [0m
  [4;35;1mCourse Load Including Associations (0.5ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:55:03+02:00') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;35;1mCourse Load Including Associations (2.9ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:55:03+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (4.0ms)
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 220ms (View: 165, DB: 10) | 200 OK [http://localhost/klasser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:55:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:55:31+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;35;1mCourse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.4ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:55:31+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:55:31+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;36;1mCourse Load Including Associations (2.7ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:55:31+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (3.8ms)
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 129ms (View: 73, DB: 10) | 200 OK [http://localhost/klasser]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:55:57) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;35;1mSession Load (0.4ms)[0m   [0mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:55:57+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;36;1mCourse Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mSession Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mCourse Load Including Associations (1.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:55:57+02:00') [0m
  [4;35;1mCourse Load Including Associations (0.5ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:55:57+02:00') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;35;1mCourse Load Including Associations (2.8ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:55:57+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (4.0ms)
  [4;36;1mUser Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 221ms (View: 165, DB: 11) | 200 OK [http://localhost/klasser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (4.0ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:58:20) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;36;1mSession Load (0.5ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:58:20+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;35;1mCourse Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.4ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:58:20+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:58:20+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;36;1mCourse Load Including Associations (2.8ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:58:20+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (3.9ms)
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 123ms (View: 66, DB: 14) | 200 OK [http://localhost/klasser]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:58:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;35;1mSession Load (0.6ms)[0m   [0mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:58:42+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;36;1mCourse Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mSession Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mCourse Load Including Associations (1.6ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:58:42+02:00') [0m
  [4;35;1mCourse Load Including Associations (0.6ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:58:42+02:00') [0m
  [4;36;1mCourse Load (0.2ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;35;1mCourse Load Including Associations (2.8ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:58:42+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (4.5ms)
  [4;36;1mUser Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 234ms (View: 161, DB: 11) | 200 OK [http://localhost/klasser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 09:58:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T09:58:53+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;35;1mCourse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.6ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:58:53+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:58:53+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;36;1mCourse Load Including Associations (2.7ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:58:53+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (3.8ms)
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 124ms (View: 65, DB: 10) | 200 OK [http://localhost/klasser]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing WelcomeController#index (for 127.0.0.1 at 2011-05-23 09:59:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"welcome", "locale"=>"sv-SE"}
  [4;35;1mCourse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.4ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T09:59:47+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.9ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T09:59:47+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) LIMIT 4[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (2.8ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T09:59:47+02:00' ) ) LIMIT 4[0m
  [4;35;1mSession Load Including Associations (0.6ms)[0m   [0mSELECT `sessions`.`id` AS t0_r0, `sessions`.`course_id` AS t0_r1, `sessions`.`starts_at` AS t0_r2, `sessions`.`ends_at` AS t0_r3, `sessions`.`created_at` AS t0_r4, `sessions`.`updated_at` AS t0_r5, `sessions`.`status` AS t0_r6, `sessions`.`comment` AS t0_r7, `courses`.`id` AS t1_r0, `courses`.`name` AS t1_r1, `courses`.`description` AS t1_r2, `courses`.`level` AS t1_r3, `courses`.`created_at` AS t1_r4, `courses`.`updated_at` AS t1_r5, `courses`.`status` AS t1_r6, `courses`.`instructor_id` AS t1_r7, `courses`.`comment` AS t1_r8, `courses`.`session_price` AS t1_r9 FROM `sessions` LEFT OUTER JOIN `courses` ON `courses`.id = `sessions`.course_id WHERE ((sessions.status = 1 AND courses.status = 1) AND (sessions.starts_at > CAST('2011-05-23T09:59:47+02:00' AS DATETIME))) ORDER BY sessions.starts_at ASC LIMIT 5[0m
  [4;36;1mGiftCertificateType Columns (3.0ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mGiftCertificateType Load (0.6ms)[0m   [0mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) [0m
  [4;36;1mGiftCertificateType Load (0.6ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) LIMIT 1[0m
  [4;35;1mGiftCertificate Columns (22.3ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (0.7ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE ((courses.session_price = 0) AND (courses.status = 1 AND courses.id IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at >= '2011-05-23T09:59:47+02:00' ) )) LIMIT 1[0m
  [4;35;1mInstructor Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `instructors`[0m
  [4;36;1mInstructor Load (2.0ms)[0m   [0;1mSELECT * FROM `instructors` WHERE (`instructors`.`id` = 1) [0m
Rendering template within layouts/application
Rendering welcome/index
Rendered welcome/_address_contact (0.9ms)
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 325ms (View: 90, DB: 42) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.4ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing WelcomeController#index (for 127.0.0.1 at 2011-05-23 10:02:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"welcome", "locale"=>"sv-SE"}
  [4;35;1mCourse Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.3ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T10:02:33+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.6ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T10:02:33+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) LIMIT 4[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (3.1ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T10:02:33+02:00' ) ) LIMIT 4[0m
  [4;35;1mSession Load Including Associations (0.4ms)[0m   [0mSELECT `sessions`.`id` AS t0_r0, `sessions`.`course_id` AS t0_r1, `sessions`.`starts_at` AS t0_r2, `sessions`.`ends_at` AS t0_r3, `sessions`.`created_at` AS t0_r4, `sessions`.`updated_at` AS t0_r5, `sessions`.`status` AS t0_r6, `sessions`.`comment` AS t0_r7, `courses`.`id` AS t1_r0, `courses`.`name` AS t1_r1, `courses`.`description` AS t1_r2, `courses`.`level` AS t1_r3, `courses`.`created_at` AS t1_r4, `courses`.`updated_at` AS t1_r5, `courses`.`status` AS t1_r6, `courses`.`instructor_id` AS t1_r7, `courses`.`comment` AS t1_r8, `courses`.`session_price` AS t1_r9 FROM `sessions` LEFT OUTER JOIN `courses` ON `courses`.id = `sessions`.course_id WHERE ((sessions.status = 1 AND courses.status = 1) AND (sessions.starts_at > CAST('2011-05-23T10:02:33+02:00' AS DATETIME))) ORDER BY sessions.starts_at ASC LIMIT 5[0m
  [4;36;1mGiftCertificateType Columns (1.7ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mGiftCertificateType Load (0.9ms)[0m   [0mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) [0m
  [4;36;1mGiftCertificateType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) LIMIT 1[0m
  [4;35;1mGiftCertificate Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (0.6ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE ((courses.session_price = 0) AND (courses.status = 1 AND courses.id IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at >= '2011-05-23T10:02:33+02:00' ) )) LIMIT 1[0m
  [4;35;1mInstructor Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `instructors`[0m
  [4;36;1mInstructor Load (0.4ms)[0m   [0;1mSELECT * FROM `instructors` WHERE (`instructors`.`id` = 1) [0m
Rendering template within layouts/application
Rendering welcome/index
Rendered welcome/_address_contact (0.3ms)
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 271ms (View: 181, DB: 18) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing WelcomeController#index (for 127.0.0.1 at 2011-05-23 10:02:53) [GET]
  Parameters: {"action"=>"index", "controller"=>"welcome", "locale"=>"sv-SE"}
  [4;35;1mCourse Columns (19.4ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (9.3ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (2.1ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T10:02:53+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T10:02:53+02:00') [0m
  [4;35;1mCourse Load (0.4ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) LIMIT 4[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (2.9ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T10:02:53+02:00' ) ) LIMIT 4[0m
  [4;35;1mSession Load Including Associations (0.4ms)[0m   [0mSELECT `sessions`.`id` AS t0_r0, `sessions`.`course_id` AS t0_r1, `sessions`.`starts_at` AS t0_r2, `sessions`.`ends_at` AS t0_r3, `sessions`.`created_at` AS t0_r4, `sessions`.`updated_at` AS t0_r5, `sessions`.`status` AS t0_r6, `sessions`.`comment` AS t0_r7, `courses`.`id` AS t1_r0, `courses`.`name` AS t1_r1, `courses`.`description` AS t1_r2, `courses`.`level` AS t1_r3, `courses`.`created_at` AS t1_r4, `courses`.`updated_at` AS t1_r5, `courses`.`status` AS t1_r6, `courses`.`instructor_id` AS t1_r7, `courses`.`comment` AS t1_r8, `courses`.`session_price` AS t1_r9 FROM `sessions` LEFT OUTER JOIN `courses` ON `courses`.id = `sessions`.course_id WHERE ((sessions.status = 1 AND courses.status = 1) AND (sessions.starts_at > CAST('2011-05-23T10:02:53+02:00' AS DATETIME))) ORDER BY sessions.starts_at ASC LIMIT 5[0m
  [4;36;1mGiftCertificateType Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mGiftCertificateType Load (0.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) [0m
  [4;36;1mGiftCertificateType Load (0.4ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) LIMIT 1[0m
  [4;35;1mGiftCertificate Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (0.6ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE ((courses.session_price = 0) AND (courses.status = 1 AND courses.id IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at >= '2011-05-23T10:02:53+02:00' ) )) LIMIT 1[0m
  [4;35;1mInstructor Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `instructors`[0m
  [4;36;1mInstructor Load (0.4ms)[0m   [0;1mSELECT * FROM `instructors` WHERE (`instructors`.`id` = 1) [0m
Rendering template within layouts/application
Rendering welcome/index
Rendered welcome/_address_contact (0.2ms)
  [4;35;1mUser Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 359ms (View: 82, DB: 44) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing WelcomeController#index (for 127.0.0.1 at 2011-05-23 10:03:35) [GET]
  Parameters: {"action"=>"index", "controller"=>"welcome", "locale"=>"sv-SE"}
  [4;35;1mCourse Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (3.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (4.2ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T10:03:35+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T10:03:35+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) LIMIT 4[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (2.9ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T10:03:35+02:00' ) ) LIMIT 4[0m
  [4;35;1mSession Load Including Associations (0.4ms)[0m   [0mSELECT `sessions`.`id` AS t0_r0, `sessions`.`course_id` AS t0_r1, `sessions`.`starts_at` AS t0_r2, `sessions`.`ends_at` AS t0_r3, `sessions`.`created_at` AS t0_r4, `sessions`.`updated_at` AS t0_r5, `sessions`.`status` AS t0_r6, `sessions`.`comment` AS t0_r7, `courses`.`id` AS t1_r0, `courses`.`name` AS t1_r1, `courses`.`description` AS t1_r2, `courses`.`level` AS t1_r3, `courses`.`created_at` AS t1_r4, `courses`.`updated_at` AS t1_r5, `courses`.`status` AS t1_r6, `courses`.`instructor_id` AS t1_r7, `courses`.`comment` AS t1_r8, `courses`.`session_price` AS t1_r9 FROM `sessions` LEFT OUTER JOIN `courses` ON `courses`.id = `sessions`.course_id WHERE ((sessions.status = 1 AND courses.status = 1) AND (sessions.starts_at > CAST('2011-05-23T10:03:35+02:00' AS DATETIME))) ORDER BY sessions.starts_at ASC LIMIT 5[0m
  [4;36;1mGiftCertificateType Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mGiftCertificateType Load (1.2ms)[0m   [0mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) [0m
  [4;36;1mGiftCertificateType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) LIMIT 1[0m
  [4;35;1mGiftCertificate Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (0.8ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE ((courses.session_price = 0) AND (courses.status = 1 AND courses.id IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at >= '2011-05-23T10:03:35+02:00' ) )) LIMIT 1[0m
  [4;35;1mInstructor Columns (1.9ms)[0m   [0mSHOW FIELDS FROM `instructors`[0m
  [4;36;1mInstructor Load (0.2ms)[0m   [0;1mSELECT * FROM `instructors` WHERE (`instructors`.`id` = 1) [0m
Rendering template within layouts/application
Rendering welcome/index
Rendered welcome/_address_contact (0.2ms)
  [4;35;1mUser Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 284ms (View: 178, DB: 23) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing WelcomeController#index (for 127.0.0.1 at 2011-05-23 10:03:47) [GET]
  Parameters: {"action"=>"index", "controller"=>"welcome", "locale"=>"sv-SE"}
  [4;35;1mCourse Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (2.0ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T10:03:47+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T10:03:47+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) LIMIT 4[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (2.9ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T10:03:47+02:00' ) ) LIMIT 4[0m
  [4;35;1mSession Load Including Associations (0.5ms)[0m   [0mSELECT `sessions`.`id` AS t0_r0, `sessions`.`course_id` AS t0_r1, `sessions`.`starts_at` AS t0_r2, `sessions`.`ends_at` AS t0_r3, `sessions`.`created_at` AS t0_r4, `sessions`.`updated_at` AS t0_r5, `sessions`.`status` AS t0_r6, `sessions`.`comment` AS t0_r7, `courses`.`id` AS t1_r0, `courses`.`name` AS t1_r1, `courses`.`description` AS t1_r2, `courses`.`level` AS t1_r3, `courses`.`created_at` AS t1_r4, `courses`.`updated_at` AS t1_r5, `courses`.`status` AS t1_r6, `courses`.`instructor_id` AS t1_r7, `courses`.`comment` AS t1_r8, `courses`.`session_price` AS t1_r9 FROM `sessions` LEFT OUTER JOIN `courses` ON `courses`.id = `sessions`.course_id WHERE ((sessions.status = 1 AND courses.status = 1) AND (sessions.starts_at > CAST('2011-05-23T10:03:47+02:00' AS DATETIME))) ORDER BY sessions.starts_at ASC LIMIT 5[0m
  [4;36;1mGiftCertificateType Columns (1.6ms)[0m   [0;1mSHOW FIELDS FROM `coupon_types`[0m
  [4;35;1mGiftCertificateType Load (0.5ms)[0m   [0mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) [0m
  [4;36;1mGiftCertificateType Load (0.3ms)[0m   [0;1mSELECT * FROM `coupon_types` WHERE ( (`coupon_types`.`type` = 'GiftCertificateType' ) ) LIMIT 1[0m
  [4;35;1mGiftCertificate Columns (1.7ms)[0m   [0mSHOW FIELDS FROM `coupons`[0m
  [4;36;1mCourse Load IDs For Limited Eager Loading (0.6ms)[0m   [0;1mSELECT DISTINCT `courses`.id FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE ((courses.session_price = 0) AND (courses.status = 1 AND courses.id IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at >= '2011-05-23T10:03:47+02:00' ) )) LIMIT 1[0m
  [4;35;1mInstructor Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `instructors`[0m
  [4;36;1mInstructor Load (2.0ms)[0m   [0;1mSELECT * FROM `instructors` WHERE (`instructors`.`id` = 1) [0m
Rendering template within layouts/application
Rendering welcome/index
Rendered welcome/_address_contact (0.2ms)
  [4;35;1mUser Columns (1.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 386ms (View: 173, DB: 19) | 200 OK [http://localhost/]
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 10:03:56) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;35;1mSession Load (0.5ms)[0m   [0mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T10:03:56+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;36;1mCourse Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `courses`[0m
  [4;35;1mSession Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `sessions`[0m
  [4;36;1mCourse Load Including Associations (1.8ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T10:03:56+02:00') [0m
  [4;35;1mCourse Load Including Associations (0.6ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T10:03:56+02:00') [0m
  [4;36;1mCourse Load (0.3ms)[0m   [0;1mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;35;1mCourse Load Including Associations (2.9ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T10:03:56+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (4.3ms)
  [4;36;1mUser Columns (1.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 229ms (View: 75, DB: 11) | 200 OK [http://localhost/klasser]
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SessionsController#index (for 127.0.0.1 at 2011-05-23 10:04:04) [GET]
  Parameters: {"action"=>"index", "controller"=>"sessions", "locale"=>"sv-SE"}
  [4;36;1mSession Load (0.4ms)[0m   [0;1mSELECT * FROM `sessions` WHERE (sessions.starts_at > CAST('2011-05-23T10:04:04+02:00' AS DATETIME)) ORDER BY sessions.starts_at ASC[0m
  [4;35;1mCourse Columns (1.5ms)[0m   [0mSHOW FIELDS FROM `courses`[0m
  [4;36;1mSession Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `sessions`[0m
  [4;35;1mCourse Load Including Associations (1.4ms)[0m   [0mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at <= '2011-05-23T10:04:04+02:00') [0m
  [4;36;1mCourse Load Including Associations (0.5ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (sessions.starts_at > '2011-05-23T10:04:04+02:00') [0m
  [4;35;1mCourse Load (0.2ms)[0m   [0mSELECT * FROM `courses` WHERE (`courses`.`status` = 1 AND `courses`.`id` IN (NULL)) [0m
  [4;36;1mCourse Load Including Associations (2.7ms)[0m   [0;1mSELECT `courses`.`id` AS t0_r0, `courses`.`name` AS t0_r1, `courses`.`description` AS t0_r2, `courses`.`level` AS t0_r3, `courses`.`created_at` AS t0_r4, `courses`.`updated_at` AS t0_r5, `courses`.`status` AS t0_r6, `courses`.`instructor_id` AS t0_r7, `courses`.`comment` AS t0_r8, `courses`.`session_price` AS t0_r9, `sessions`.`id` AS t1_r0, `sessions`.`course_id` AS t1_r1, `sessions`.`starts_at` AS t1_r2, `sessions`.`ends_at` AS t1_r3, `sessions`.`created_at` AS t1_r4, `sessions`.`updated_at` AS t1_r5, `sessions`.`status` AS t1_r6, `sessions`.`comment` AS t1_r7 FROM `courses` LEFT OUTER JOIN `sessions` ON sessions.course_id = courses.id WHERE (courses.status = 1 AND courses.id NOT IN (SELECT DISTINCT(sessions.course_id) FROM sessions WHERE sessions.starts_at <= '2011-05-23T10:04:04+02:00' ) ) [0m
Rendering template within layouts/application
Rendering sessions/index
Rendered sessions/_calendar (3.8ms)
  [4;35;1mUser Columns (1.6ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
Completed in 225ms (View: 66, DB: 10) | 200 OK [http://localhost/klasser]
** [Hoptoad] Notifier 2.0.18 ready to catch errors
Translating routes (default locale: sv-SE)
