<h1>Payments</h1>
<%= select_tag(:show_payment, options_for_select([['Alla','paid_or_not'],['Betalda','paid'],['Obetalda','not_paid']], :selected => params[:show_payment]), :onchange => '
var option;
for(var i=0; i<this.options.length; i++)
  if(this.options[i].selected) option = this.options[i]
var search = location.search.replace(/(&?show_payment=)[^&]*/gim,"$1"+option.value);
document.location = location.pathname + search;
') %><br><br>
<table>
  <tr>
    <th>Paid</th>
    <th>Ref.nr</th>
    <th>Description</th>
    <th>Name</th>
    <!-- <th>Email</th> -->
    <th>Note</th>
    <th>Ammount</th>
    <th></th>
    <th></th>
    <th></th>
    <th></th>
  </tr>
<% @payments.each do |payment| %>
  <tr>
    <td><%= payment.paid? ? 'X' : '' %></td>
    <td><%= payment.id %></td>
    <td><%= payment.description %></td>
    <td><%= payment.name %></td>
    <!-- <td><%= payment.email %></td> -->
    <td><%= payment.note %></td>
    <td><%= payment.value %></td>
    <td><%= link_to 'Booking', polymorphic_path(payment) %></td>
    <td><%= link_to 'Show', admin_payment_path(payment, :page => params[:page]) %></td>
    <td><%= link_to 'Edit', edit_admin_payment_path(payment, :page => params[:page]) %></td>
    <td><%= link_to 'Destroy', admin_payment_path(payment, :page => params[:page]), :method => :delete %></td>
  </tr>
<% end %>
<tr>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
  <td><%= Payment.sum %></td>
  <td></td>
  <td></td>
  <td></td>
  <td></td>
</tr>

</table>
<%= will_paginate @payments %>
<%= page_entries_info @payments %>
